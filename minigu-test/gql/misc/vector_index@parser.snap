---
source: minigu-test/src/insta_test.rs
---
- Err:
    Unexpected:
      input: "CREATE GRAPH test_graph {\n  (Entity: EntityLabel {\n    id INT64,\n    embedding vector(4),\n    PRIMARY KEY (id)\n  }),\n  (Entity)-[Rel: RelLabel {\n    timestamp\tINT64,\n    PRIMARY KEY (SOURCE_PRIMARY_KEY, timestamp, DESTINATION_PRIMARY_KEY)\n  }]->(Entity),\n}"
      span:
        start: 0
        end: 6
      position:
        - 1
        - 1
- Err:
    Unexpected:
      input: USE GRAPH test_graph
      span:
        start: 0
        end: 3
      position:
        - 1
        - 1
- Err:
    Unexpected:
      input: "INSERT (n:Entity {id: 30001, embedding: VECTOR [1.0, -2.5, 3.14, -0.5]})"
      span:
        start: 0
        end: 6
      position:
        - 1
        - 1
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - n
                                                                  - start: 8
                                                                    end: 9
                                                                label:
                                                                  - Label: Entity
                                                                  - start: 10
                                                                    end: 16
                                                                predicate:
                                                                  - Property:
                                                                      - - name:
                                                                            - id
                                                                            - start: 18
                                                                              end: 20
                                                                          value:
                                                                            - Value:
                                                                                Literal:
                                                                                  Numeric:
                                                                                    Integer:
                                                                                      - kind: Decimal
                                                                                        integer: "30001"
                                                                                      - start: 22
                                                                                        end: 27
                                                                            - start: 22
                                                                              end: 27
                                                                        - start: 18
                                                                          end: 27
                                                                  - start: 17
                                                                    end: 28
                                                          - start: 7
                                                            end: 29
                                                    - start: 7
                                                      end: 29
                                                - start: 7
                                                  end: 29
                                            keep: ~
                                            where_clause: ~
                                          - start: 7
                                            end: 29
                                        yield_clause: []
                                      - start: 7
                                        end: 29
                                - start: 0
                                  end: 29
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: n
                                                  - start: 37
                                                    end: 38
                                                alias: ~
                                              - start: 37
                                                end: 38
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: n
                                                        - start: 40
                                                          end: 41
                                                      trailing_names:
                                                        - - embedding
                                                          - start: 42
                                                            end: 51
                                                  - start: 40
                                                    end: 51
                                                alias: ~
                                              - start: 40
                                                end: 51
                                        - start: 37
                                          end: 51
                                      group_by: ~
                                    - start: 30
                                      end: 51
                                  order_by: ~
                              - start: 30
                                end: 51
                  - start: 0
                    end: 51
                next_statements: []
              - start: 0
                end: 51
            end: ~
        - start: 0
          end: 51
      session_close: false
    - start: 0
      end: 51
