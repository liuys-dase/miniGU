---
source: minigu-test/src/insta_test.rs
---
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Author
                                                                  - start: 9
                                                                    end: 15
                                                                predicate:
                                                                  - Property:
                                                                      - - name:
                                                                            - author_id
                                                                            - start: 16
                                                                              end: 25
                                                                          value:
                                                                            - Value:
                                                                                Literal:
                                                                                  String:
                                                                                    kind: Char
                                                                                    literal: A001
                                                                            - start: 26
                                                                              end: 32
                                                                        - start: 16
                                                                          end: 32
                                                                  - start: 15
                                                                    end: 33
                                                          - start: 6
                                                            end: 34
                                                    - start: 6
                                                      end: 34
                                                - start: 6
                                                  end: 34
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 34
                                        yield_clause: []
                                      - start: 6
                                        end: 34
                                - start: 0
                                  end: 34
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: a
                                                  - start: 42
                                                    end: 43
                                                alias: ~
                                              - start: 42
                                                end: 43
                                        - start: 42
                                          end: 43
                                      group_by: ~
                                    - start: 35
                                      end: 43
                                  order_by: ~
                              - start: 35
                                end: 43
                  - start: 0
                    end: 43
                next_statements: []
              - start: 0
                end: 43
            end: ~
        - start: 0
          end: 43
      session_close: false
    - start: 0
      end: 43
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: m
                                                  - start: 23
                                                    end: 24
                                                alias: ~
                                              - start: 23
                                                end: 24
                                        - start: 23
                                          end: 24
                                      group_by: ~
                                    - start: 16
                                      end: 24
                                  order_by:
                                    - order_by: []
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 25
                                          end: 32
                                    - start: 25
                                      end: 32
                              - start: 16
                                end: 32
                  - start: 0
                    end: 32
                next_statements: []
              - start: 0
                end: 32
            end: ~
        - start: 0
          end: 32
      session_close: false
    - start: 0
      end: 32
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 16
                                        yield_clause: []
                                      - start: 6
                                        end: 16
                                - start: 0
                                  end: 16
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 24
                                                          end: 25
                                                      trailing_names:
                                                        - - name
                                                          - start: 26
                                                            end: 30
                                                  - start: 24
                                                    end: 30
                                                alias: ~
                                              - start: 24
                                                end: 30
                                        - start: 24
                                          end: 30
                                      group_by: ~
                                    - start: 17
                                      end: 30
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: p
                                                    - start: 40
                                                      end: 41
                                                  trailing_names:
                                                    - - born
                                                      - start: 42
                                                        end: 46
                                              - start: 40
                                                end: 46
                                            ordering:
                                              - Desc
                                              - start: 47
                                                end: 51
                                            null_ordering: ~
                                          - start: 40
                                            end: 51
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "3"
                                          approximate: false
                                        - start: 52
                                          end: 59
                                    - start: 31
                                      end: 59
                              - start: 17
                                end: 59
                  - start: 0
                    end: 59
                next_statements: []
              - start: 0
                end: 59
            end: ~
        - start: 0
          end: 59
      session_close: false
    - start: 0
      end: 59
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 19
                                                                      end: 27
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 30
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 31
                                                                    end: 32
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 33
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 30
                                                            end: 39
                                                    - start: 6
                                                      end: 39
                                                - start: 6
                                                  end: 39
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 39
                                        yield_clause: []
                                      - start: 6
                                        end: 39
                                - start: 0
                                  end: 39
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 47
                                                          end: 48
                                                      trailing_names:
                                                        - - name
                                                          - start: 49
                                                            end: 53
                                                  - start: 47
                                                    end: 53
                                                alias: ~
                                              - start: 47
                                                end: 53
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 55
                                                          end: 56
                                                      trailing_names:
                                                        - - title
                                                          - start: 57
                                                            end: 62
                                                  - start: 55
                                                    end: 62
                                                alias: ~
                                              - start: 55
                                                end: 62
                                        - start: 47
                                          end: 62
                                      group_by: ~
                                    - start: 40
                                      end: 62
                                  order_by: ~
                              - start: 40
                                end: 62
                  - start: 0
                    end: 62
                next_statements: []
              - start: 0
                end: 62
            end: ~
        - start: 0
          end: 62
      session_close: false
    - start: 0
      end: 62
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c1
                                                                  - start: 7
                                                                    end: 9
                                                                label:
                                                                  - Label: Character
                                                                  - start: 10
                                                                    end: 19
                                                                predicate: ~
                                                          - start: 6
                                                            end: 20
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable:
                                                                    - r
                                                                    - start: 22
                                                                      end: 23
                                                                  label:
                                                                    - Label: INTERACTS
                                                                    - start: 24
                                                                      end: 33
                                                                  predicate:
                                                                    - Property:
                                                                        - - name:
                                                                              - weight
                                                                              - start: 34
                                                                                end: 40
                                                                            value:
                                                                              - Value:
                                                                                  Literal:
                                                                                    Numeric:
                                                                                      Integer:
                                                                                        - kind: Decimal
                                                                                          integer: "5"
                                                                                        - start: 41
                                                                                          end: 42
                                                                              - start: 41
                                                                                end: 42
                                                                          - start: 34
                                                                            end: 42
                                                                    - start: 33
                                                                      end: 43
                                                          - start: 20
                                                            end: 46
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c2
                                                                  - start: 47
                                                                    end: 49
                                                                label:
                                                                  - Label: Character
                                                                  - start: 50
                                                                    end: 59
                                                                predicate: ~
                                                          - start: 46
                                                            end: 60
                                                    - start: 6
                                                      end: 60
                                                - start: 6
                                                  end: 60
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 60
                                        yield_clause: []
                                      - start: 6
                                        end: 60
                                - start: 0
                                  end: 60
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c1
                                                        - start: 68
                                                          end: 70
                                                      trailing_names:
                                                        - - name
                                                          - start: 71
                                                            end: 75
                                                  - start: 68
                                                    end: 75
                                                alias: ~
                                              - start: 68
                                                end: 75
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c2
                                                        - start: 77
                                                          end: 79
                                                      trailing_names:
                                                        - - name
                                                          - start: 80
                                                            end: 84
                                                  - start: 77
                                                    end: 84
                                                alias: ~
                                              - start: 77
                                                end: 84
                                        - start: 68
                                          end: 84
                                      group_by: ~
                                    - start: 61
                                      end: 84
                                  order_by: ~
                              - start: 61
                                end: 84
                  - start: 0
                    end: 84
                next_statements: []
              - start: 0
                end: 84
            end: ~
        - start: 0
          end: 84
      session_close: false
    - start: 0
      end: 84
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Left
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: HAS_CEO
                                                                    - start: 20
                                                                      end: 27
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 29
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - o
                                                                  - start: 30
                                                                    end: 31
                                                                label:
                                                                  - Label: Organization
                                                                  - start: 32
                                                                    end: 44
                                                                predicate: ~
                                                          - start: 29
                                                            end: 45
                                                    - start: 6
                                                      end: 45
                                                - start: 6
                                                  end: 45
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 45
                                        yield_clause: []
                                      - start: 6
                                        end: 45
                                - start: 0
                                  end: 45
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 53
                                                          end: 54
                                                      trailing_names:
                                                        - - name
                                                          - start: 55
                                                            end: 59
                                                  - start: 53
                                                    end: 59
                                                alias: ~
                                              - start: 53
                                                end: 59
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: o
                                                        - start: 61
                                                          end: 62
                                                      trailing_names:
                                                        - - name
                                                          - start: 63
                                                            end: 67
                                                  - start: 61
                                                    end: 67
                                                alias: ~
                                              - start: 61
                                                end: 67
                                        - start: 53
                                          end: 67
                                      group_by: ~
                                    - start: 46
                                      end: 67
                                  order_by: ~
                              - start: 46
                                end: 67
                  - start: 0
                    end: 67
                next_statements: []
              - start: 0
                end: 67
            end: ~
        - start: 0
          end: 67
      session_close: false
    - start: 0
      end: 67
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 19
                                                                      end: 27
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 30
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 31
                                                                    end: 32
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 33
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 30
                                                            end: 39
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Left
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: DIRECTED
                                                                    - start: 43
                                                                      end: 51
                                                                  predicate: ~
                                                          - start: 39
                                                            end: 53
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - d
                                                                  - start: 54
                                                                    end: 55
                                                                label:
                                                                  - Label: Person
                                                                  - start: 56
                                                                    end: 62
                                                                predicate: ~
                                                          - start: 53
                                                            end: 63
                                                    - start: 6
                                                      end: 63
                                                - start: 6
                                                  end: 63
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 63
                                        yield_clause: []
                                      - start: 6
                                        end: 63
                                - start: 0
                                  end: 63
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 71
                                                          end: 72
                                                      trailing_names:
                                                        - - name
                                                          - start: 73
                                                            end: 77
                                                  - start: 71
                                                    end: 77
                                                alias: ~
                                              - start: 71
                                                end: 77
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 79
                                                          end: 80
                                                      trailing_names:
                                                        - - title
                                                          - start: 81
                                                            end: 86
                                                  - start: 79
                                                    end: 86
                                                alias: ~
                                              - start: 79
                                                end: 86
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: d
                                                        - start: 88
                                                          end: 89
                                                      trailing_names:
                                                        - - name
                                                          - start: 90
                                                            end: 94
                                                  - start: 88
                                                    end: 94
                                                alias: ~
                                              - start: 88
                                                end: 94
                                        - start: 71
                                          end: 94
                                      group_by: ~
                                    - start: 64
                                      end: 94
                                  order_by: ~
                              - start: 64
                                end: 94
                  - start: 0
                    end: 94
                next_statements: []
              - start: 0
                end: 94
            end: ~
        - start: 0
          end: 94
      session_close: false
    - start: 0
      end: 94
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - o
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Organization
                                                                  - start: 9
                                                                    end: 21
                                                                predicate: ~
                                                          - start: 6
                                                            end: 22
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: HAS_CEO
                                                                    - start: 25
                                                                      end: 32
                                                                  predicate: ~
                                                          - start: 22
                                                            end: 35
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 36
                                                                    end: 37
                                                                label:
                                                                  - Label: Person
                                                                  - start: 38
                                                                    end: 44
                                                                predicate: ~
                                                          - start: 35
                                                            end: 45
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: HAS_CHILD
                                                                    - start: 48
                                                                      end: 57
                                                                  predicate: ~
                                                          - start: 45
                                                            end: 60
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - child
                                                                  - start: 61
                                                                    end: 66
                                                                label:
                                                                  - Label: Person
                                                                  - start: 67
                                                                    end: 73
                                                                predicate: ~
                                                          - start: 60
                                                            end: 74
                                                    - start: 6
                                                      end: 74
                                                - start: 6
                                                  end: 74
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 74
                                        yield_clause: []
                                      - start: 6
                                        end: 74
                                - start: 0
                                  end: 74
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: o
                                                        - start: 82
                                                          end: 83
                                                      trailing_names:
                                                        - - name
                                                          - start: 84
                                                            end: 88
                                                  - start: 82
                                                    end: 88
                                                alias: ~
                                              - start: 82
                                                end: 88
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 90
                                                          end: 91
                                                      trailing_names:
                                                        - - name
                                                          - start: 92
                                                            end: 96
                                                  - start: 90
                                                    end: 96
                                                alias: ~
                                              - start: 90
                                                end: 96
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: child
                                                        - start: 98
                                                          end: 103
                                                      trailing_names:
                                                        - - name
                                                          - start: 104
                                                            end: 108
                                                  - start: 98
                                                    end: 108
                                                alias: ~
                                              - start: 98
                                                end: 108
                                        - start: 82
                                          end: 108
                                      group_by: ~
                                    - start: 75
                                      end: 108
                                  order_by: ~
                              - start: 75
                                end: 108
                  - start: 0
                    end: 108
                next_statements: []
              - start: 0
                end: 108
            end: ~
        - start: 0
          end: 108
      session_close: false
    - start: 0
      end: 108
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: WROTE
                                                                    - start: 17
                                                                      end: 22
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 25
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r
                                                                  - start: 26
                                                                    end: 27
                                                                label:
                                                                  - Label: Review
                                                                  - start: 28
                                                                    end: 34
                                                                predicate: ~
                                                          - start: 25
                                                            end: 35
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: REVIEWS
                                                                    - start: 38
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 35
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 49
                                                                    end: 50
                                                                label:
                                                                  - Label: Business
                                                                  - start: 51
                                                                    end: 59
                                                                predicate: ~
                                                          - start: 48
                                                            end: 60
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: IN_CATEGORY
                                                                    - start: 63
                                                                      end: 74
                                                                  predicate: ~
                                                          - start: 60
                                                            end: 77
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 78
                                                                    end: 79
                                                                label:
                                                                  - Label: Category
                                                                  - start: 80
                                                                    end: 88
                                                                predicate: ~
                                                          - start: 77
                                                            end: 89
                                                    - start: 6
                                                      end: 89
                                                - start: 6
                                                  end: 89
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 89
                                        yield_clause: []
                                      - start: 6
                                        end: 89
                                - start: 0
                                  end: 89
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 97
                                                          end: 98
                                                      trailing_names:
                                                        - - name
                                                          - start: 99
                                                            end: 103
                                                  - start: 97
                                                    end: 103
                                                alias: ~
                                              - start: 97
                                                end: 103
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: b
                                                        - start: 105
                                                          end: 106
                                                      trailing_names:
                                                        - - name
                                                          - start: 107
                                                            end: 111
                                                  - start: 105
                                                    end: 111
                                                alias: ~
                                              - start: 105
                                                end: 111
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 113
                                                          end: 114
                                                      trailing_names:
                                                        - - name
                                                          - start: 115
                                                            end: 119
                                                  - start: 113
                                                    end: 119
                                                alias: ~
                                              - start: 113
                                                end: 119
                                        - start: 97
                                          end: 119
                                      group_by: ~
                                    - start: 90
                                      end: 119
                                  order_by: ~
                              - start: 90
                                end: 119
                  - start: 0
                    end: 119
                next_statements: []
              - start: 0
                end: 119
            end: ~
        - start: 0
          end: 119
      session_close: false
    - start: 0
      end: 119
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Author
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Quantified:
                                                              path:
                                                                - Pattern:
                                                                    Edge:
                                                                      kind: Right
                                                                      filler:
                                                                        variable: ~
                                                                        label: ~
                                                                        predicate: ~
                                                                - start: 16
                                                                  end: 21
                                                              quantifier:
                                                                - General:
                                                                    lower_bound:
                                                                      - kind: Decimal
                                                                        integer: "1"
                                                                      - start: 22
                                                                        end: 23
                                                                    upper_bound: ~
                                                                - start: 21
                                                                  end: 25
                                                          - start: 16
                                                            end: 25
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - d
                                                                  - start: 26
                                                                    end: 27
                                                                label:
                                                                  - Label: Document
                                                                  - start: 28
                                                                    end: 36
                                                                predicate: ~
                                                          - start: 25
                                                            end: 37
                                                    - start: 6
                                                      end: 37
                                                - start: 6
                                                  end: 37
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 37
                                        yield_clause: []
                                      - start: 6
                                        end: 37
                                - start: 0
                                  end: 37
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 45
                                                            end: 50
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: p
                                                          - start: 51
                                                            end: 52
                                                  - start: 45
                                                    end: 53
                                                alias: ~
                                              - start: 45
                                                end: 53
                                        - start: 45
                                          end: 53
                                      group_by: ~
                                    - start: 38
                                      end: 53
                                  order_by: ~
                              - start: 38
                                end: 53
                  - start: 0
                    end: 53
                next_statements: []
              - start: 0
                end: 53
            end: ~
        - start: 0
          end: 53
      session_close: false
    - start: 0
      end: 53
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label: ~
                                                                predicate: ~
                                                          - start: 6
                                                            end: 9
                                                        - - Quantified:
                                                              path:
                                                                - Pattern:
                                                                    Edge:
                                                                      kind: Right
                                                                      filler:
                                                                        variable: ~
                                                                        label: ~
                                                                        predicate: ~
                                                                - start: 9
                                                                  end: 14
                                                              quantifier:
                                                                - General:
                                                                    lower_bound:
                                                                      - kind: Decimal
                                                                        integer: "2"
                                                                      - start: 15
                                                                        end: 16
                                                                    upper_bound:
                                                                      - kind: Decimal
                                                                        integer: "2"
                                                                      - start: 17
                                                                        end: 18
                                                                - start: 14
                                                                  end: 19
                                                          - start: 9
                                                            end: 19
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 20
                                                                    end: 21
                                                                label: ~
                                                                predicate: ~
                                                          - start: 19
                                                            end: 22
                                                    - start: 6
                                                      end: 22
                                                - start: 6
                                                  end: 22
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 22
                                        yield_clause: []
                                      - start: 6
                                        end: 22
                                - start: 0
                                  end: 22
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 30
                                                            end: 35
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: p
                                                          - start: 36
                                                            end: 37
                                                  - start: 30
                                                    end: 38
                                                alias: ~
                                              - start: 30
                                                end: 38
                                        - start: 30
                                          end: 38
                                      group_by: ~
                                    - start: 23
                                      end: 38
                                  order_by: ~
                              - start: 23
                                end: 38
                  - start: 0
                    end: 38
                next_statements: []
              - start: 0
                end: 38
            end: ~
        - start: 0
          end: 38
      session_close: false
    - start: 0
      end: 38
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Character
                                                                  - start: 9
                                                                    end: 18
                                                                predicate: ~
                                                          - start: 6
                                                            end: 19
                                                        - - Quantified:
                                                              path:
                                                                - Pattern:
                                                                    Edge:
                                                                      kind: Any
                                                                      filler:
                                                                        variable: ~
                                                                        label:
                                                                          - Label: INTERACTS
                                                                          - start: 22
                                                                            end: 31
                                                                        predicate: ~
                                                                - start: 19
                                                                  end: 33
                                                              quantifier:
                                                                - General:
                                                                    lower_bound:
                                                                      - kind: Decimal
                                                                        integer: "1"
                                                                      - start: 34
                                                                        end: 35
                                                                    upper_bound:
                                                                      - kind: Decimal
                                                                        integer: "5"
                                                                      - start: 36
                                                                        end: 37
                                                                - start: 33
                                                                  end: 38
                                                          - start: 19
                                                            end: 38
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - other
                                                                  - start: 39
                                                                    end: 44
                                                                label:
                                                                  - Label: Character
                                                                  - start: 45
                                                                    end: 54
                                                                predicate: ~
                                                          - start: 38
                                                            end: 55
                                                    - start: 6
                                                      end: 55
                                                - start: 6
                                                  end: 55
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 55
                                        yield_clause: []
                                      - start: 6
                                        end: 55
                                - start: 0
                                  end: 55
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 63
                                                          end: 64
                                                      trailing_names:
                                                        - - name
                                                          - start: 65
                                                            end: 69
                                                  - start: 63
                                                    end: 69
                                                alias: ~
                                              - start: 63
                                                end: 69
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: other
                                                        - start: 71
                                                          end: 76
                                                      trailing_names:
                                                        - - name
                                                          - start: 77
                                                            end: 81
                                                  - start: 71
                                                    end: 81
                                                alias: ~
                                              - start: 71
                                                end: 81
                                        - start: 63
                                          end: 81
                                      group_by: ~
                                    - start: 56
                                      end: 81
                                  order_by: ~
                              - start: 56
                                end: 81
                  - start: 0
                    end: 81
                next_statements: []
              - start: 0
                end: 81
            end: ~
        - start: 0
          end: 81
      session_close: false
    - start: 0
      end: 81
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 23
                                                            end: 28
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: m
                                                          - start: 29
                                                            end: 30
                                                  - start: 23
                                                    end: 31
                                                alias:
                                                  - movie_count
                                                  - start: 35
                                                    end: 46
                                              - start: 23
                                                end: 46
                                        - start: 23
                                          end: 46
                                      group_by: ~
                                    - start: 16
                                      end: 46
                                  order_by: ~
                              - start: 16
                                end: 46
                  - start: 0
                    end: 46
                next_statements: []
              - start: 0
                end: 46
            end: ~
        - start: 0
          end: 46
      session_close: false
    - start: 0
      end: 46
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 16
                                        yield_clause: []
                                      - start: 6
                                        end: 16
                                - start: 0
                                  end: 16
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Avg
                                                          - start: 24
                                                            end: 27
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: p
                                                                - start: 28
                                                                  end: 29
                                                              trailing_names:
                                                                - - born
                                                                  - start: 30
                                                                    end: 34
                                                          - start: 28
                                                            end: 34
                                                  - start: 24
                                                    end: 35
                                                alias:
                                                  - average_birth_year
                                                  - start: 39
                                                    end: 57
                                              - start: 24
                                                end: 57
                                        - start: 24
                                          end: 57
                                      group_by: ~
                                    - start: 17
                                      end: 57
                                  order_by: ~
                              - start: 17
                                end: 57
                  - start: 0
                    end: 57
                next_statements: []
              - start: 0
                end: 57
            end: ~
        - start: 0
          end: 57
      session_close: false
    - start: 0
      end: 57
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Sum
                                                          - start: 23
                                                            end: 26
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 27
                                                                  end: 28
                                                              trailing_names:
                                                                - - budget
                                                                  - start: 29
                                                                    end: 35
                                                          - start: 27
                                                            end: 35
                                                  - start: 23
                                                    end: 36
                                                alias:
                                                  - total_budget
                                                  - start: 40
                                                    end: 52
                                              - start: 23
                                                end: 52
                                        - start: 23
                                          end: 52
                                      group_by: ~
                                    - start: 16
                                      end: 52
                                  order_by: ~
                              - start: 16
                                end: 52
                  - start: 0
                    end: 52
                next_statements: []
              - start: 0
                end: 52
            end: ~
        - start: 0
          end: 52
      session_close: false
    - start: 0
      end: 52
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Max
                                                          - start: 23
                                                            end: 26
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 27
                                                                  end: 28
                                                              trailing_names:
                                                                - - released
                                                                  - start: 29
                                                                    end: 37
                                                          - start: 27
                                                            end: 37
                                                  - start: 23
                                                    end: 38
                                                alias:
                                                  - latest_year
                                                  - start: 42
                                                    end: 53
                                              - start: 23
                                                end: 53
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Min
                                                          - start: 55
                                                            end: 58
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 59
                                                                  end: 60
                                                              trailing_names:
                                                                - - released
                                                                  - start: 61
                                                                    end: 69
                                                          - start: 59
                                                            end: 69
                                                  - start: 55
                                                    end: 70
                                                alias:
                                                  - earliest_year
                                                  - start: 74
                                                    end: 87
                                              - start: 55
                                                end: 87
                                        - start: 23
                                          end: 87
                                      group_by: ~
                                    - start: 16
                                      end: 87
                                  order_by: ~
                              - start: 16
                                end: 87
                  - start: 0
                    end: 87
                next_statements: []
              - start: 0
                end: 87
            end: ~
        - start: 0
          end: 87
      session_close: false
    - start: 0
      end: 87
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 16
                                        yield_clause: []
                                      - start: 6
                                        end: 16
                                - start: 0
                                  end: 16
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 24
                                                            end: 29
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: s
                                                          - start: 30
                                                            end: 31
                                                  - start: 24
                                                    end: 32
                                                alias:
                                                  - total
                                                  - start: 36
                                                    end: 41
                                              - start: 24
                                                end: 41
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Avg
                                                          - start: 43
                                                            end: 46
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: s
                                                                - start: 47
                                                                  end: 48
                                                              trailing_names:
                                                                - - followers
                                                                  - start: 49
                                                                    end: 58
                                                          - start: 47
                                                            end: 58
                                                  - start: 43
                                                    end: 59
                                                alias:
                                                  - avg_followers
                                                  - start: 63
                                                    end: 76
                                              - start: 43
                                                end: 76
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Max
                                                          - start: 78
                                                            end: 81
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: s
                                                                - start: 82
                                                                  end: 83
                                                              trailing_names:
                                                                - - total_view_count
                                                                  - start: 84
                                                                    end: 100
                                                          - start: 82
                                                            end: 100
                                                  - start: 78
                                                    end: 101
                                                alias:
                                                  - max_views
                                                  - start: 105
                                                    end: 114
                                              - start: 78
                                                end: 114
                                        - start: 24
                                          end: 114
                                      group_by: ~
                                    - start: 17
                                      end: 114
                                  order_by: ~
                              - start: 17
                                end: 114
                  - start: 0
                    end: 114
                next_statements: []
              - start: 0
                end: 114
            end: ~
        - start: 0
          end: 114
      session_close: false
    - start: 0
      end: 114
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Gt
                                                    - start: 31
                                                      end: 32
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: m
                                                          - start: 22
                                                            end: 23
                                                        trailing_names:
                                                          - - budget
                                                            - start: 24
                                                              end: 30
                                                    - start: 22
                                                      end: 30
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          Numeric:
                                                            Integer:
                                                              - kind: Decimal
                                                                integer: "100000000"
                                                              - start: 33
                                                                end: 42
                                                    - start: 33
                                                      end: 42
                                              - start: 22
                                                end: 42
                                          - start: 6
                                            end: 42
                                        yield_clause: []
                                      - start: 6
                                        end: 42
                                - start: 0
                                  end: 42
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 50
                                                          end: 51
                                                      trailing_names:
                                                        - - title
                                                          - start: 52
                                                            end: 57
                                                  - start: 50
                                                    end: 57
                                                alias: ~
                                              - start: 50
                                                end: 57
                                        - start: 50
                                          end: 57
                                      group_by: ~
                                    - start: 43
                                      end: 57
                                  order_by: ~
                              - start: 43
                                end: 57
                  - start: 0
                    end: 57
                next_statements: []
              - start: 0
                end: 57
            end: ~
        - start: 0
          end: 57
      session_close: false
    - start: 0
      end: 57
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Eq
                                                    - start: 30
                                                      end: 31
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: p
                                                          - start: 23
                                                            end: 24
                                                        trailing_names:
                                                          - - name
                                                            - start: 25
                                                              end: 29
                                                    - start: 23
                                                      end: 29
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          String:
                                                            kind: Char
                                                            literal: Keanu Reeves
                                                    - start: 32
                                                      end: 46
                                              - start: 23
                                                end: 46
                                          - start: 6
                                            end: 46
                                        yield_clause: []
                                      - start: 6
                                        end: 46
                                - start: 0
                                  end: 46
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: p
                                                  - start: 54
                                                    end: 55
                                                alias: ~
                                              - start: 54
                                                end: 55
                                        - start: 54
                                          end: 55
                                      group_by: ~
                                    - start: 47
                                      end: 55
                                  order_by: ~
                              - start: 47
                                end: 55
                  - start: 0
                    end: 55
                next_statements: []
              - start: 0
                end: 55
            end: ~
        - start: 0
          end: 55
      session_close: false
    - start: 0
      end: 55
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - q
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Question
                                                                  - start: 9
                                                                    end: 17
                                                                predicate: ~
                                                          - start: 6
                                                            end: 18
                                                    - start: 6
                                                      end: 18
                                                - start: 6
                                                  end: 18
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - And
                                                    - start: 44
                                                      end: 47
                                                  left:
                                                    - Binary:
                                                        op:
                                                          - Gt
                                                          - start: 40
                                                            end: 41
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: q
                                                                - start: 25
                                                                  end: 26
                                                              trailing_names:
                                                                - - answer_count
                                                                  - start: 27
                                                                    end: 39
                                                          - start: 25
                                                            end: 39
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "2"
                                                                    - start: 42
                                                                      end: 43
                                                          - start: 42
                                                            end: 43
                                                    - start: 25
                                                      end: 43
                                                  right:
                                                    - Binary:
                                                        op:
                                                          - Gt
                                                          - start: 56
                                                            end: 57
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: q
                                                                - start: 48
                                                                  end: 49
                                                              trailing_names:
                                                                - - score
                                                                  - start: 50
                                                                    end: 55
                                                          - start: 48
                                                            end: 55
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "5"
                                                                    - start: 58
                                                                      end: 59
                                                          - start: 58
                                                            end: 59
                                                    - start: 48
                                                      end: 59
                                              - start: 25
                                                end: 59
                                          - start: 6
                                            end: 59
                                        yield_clause: []
                                      - start: 6
                                        end: 59
                                - start: 0
                                  end: 59
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: q
                                                        - start: 67
                                                          end: 68
                                                      trailing_names:
                                                        - - title
                                                          - start: 69
                                                            end: 74
                                                  - start: 67
                                                    end: 74
                                                alias: ~
                                              - start: 67
                                                end: 74
                                        - start: 67
                                          end: 74
                                      group_by: ~
                                    - start: 60
                                      end: 74
                                  order_by: ~
                              - start: 60
                                end: 74
                  - start: 0
                    end: 74
                next_statements: []
              - start: 0
                end: 74
            end: ~
        - start: 0
          end: 74
      session_close: false
    - start: 0
      end: 74
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - And
                                                    - start: 35
                                                      end: 38
                                                  left:
                                                    - Binary:
                                                        op:
                                                          - Gt
                                                          - start: 31
                                                            end: 32
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 22
                                                                  end: 23
                                                              trailing_names:
                                                                - - budget
                                                                  - start: 24
                                                                    end: 30
                                                          - start: 22
                                                            end: 30
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "0"
                                                                    - start: 33
                                                                      end: 34
                                                          - start: 33
                                                            end: 34
                                                    - start: 22
                                                      end: 34
                                                  right:
                                                    - Binary:
                                                        op:
                                                          - Lt
                                                          - start: 50
                                                            end: 51
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 39
                                                                  end: 40
                                                              trailing_names:
                                                                - - released
                                                                  - start: 41
                                                                    end: 49
                                                          - start: 39
                                                            end: 49
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "2000"
                                                                    - start: 52
                                                                      end: 56
                                                          - start: 52
                                                            end: 56
                                                    - start: 39
                                                      end: 56
                                              - start: 22
                                                end: 56
                                          - start: 6
                                            end: 56
                                        yield_clause: []
                                      - start: 6
                                        end: 56
                                - start: 0
                                  end: 56
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 64
                                                          end: 65
                                                      trailing_names:
                                                        - - title
                                                          - start: 66
                                                            end: 71
                                                  - start: 64
                                                    end: 71
                                                alias: ~
                                              - start: 64
                                                end: 71
                                        - start: 64
                                          end: 71
                                      group_by: ~
                                    - start: 57
                                      end: 71
                                  order_by: ~
                              - start: 57
                                end: 71
                  - start: 0
                    end: 71
                next_statements: []
              - start: 0
                end: 71
            end: ~
        - start: 0
          end: 71
      session_close: false
    - start: 0
      end: 71
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 23
                                                          end: 24
                                                      trailing_names:
                                                        - - title
                                                          - start: 25
                                                            end: 30
                                                  - start: 23
                                                    end: 30
                                                alias: ~
                                              - start: 23
                                                end: 30
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 32
                                                          end: 33
                                                      trailing_names:
                                                        - - released
                                                          - start: 34
                                                            end: 42
                                                  - start: 32
                                                    end: 42
                                                alias: ~
                                              - start: 32
                                                end: 42
                                        - start: 23
                                          end: 42
                                      group_by: ~
                                    - start: 16
                                      end: 42
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: m
                                                    - start: 52
                                                      end: 53
                                                  trailing_names:
                                                    - - released
                                                      - start: 54
                                                        end: 62
                                              - start: 52
                                                end: 62
                                            ordering:
                                              - Desc
                                              - start: 63
                                                end: 67
                                            null_ordering: ~
                                          - start: 52
                                            end: 67
                                      offset: ~
                                      limit: ~
                                    - start: 43
                                      end: 67
                              - start: 16
                                end: 67
                  - start: 0
                    end: 67
                next_statements: []
              - start: 0
                end: 67
            end: ~
        - start: 0
          end: 67
      session_close: false
    - start: 0
      end: 67
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Review
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 16
                                        yield_clause: []
                                      - start: 6
                                        end: 16
                                - start: 0
                                  end: 16
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r
                                                        - start: 24
                                                          end: 25
                                                      trailing_names:
                                                        - - stars
                                                          - start: 26
                                                            end: 31
                                                  - start: 24
                                                    end: 31
                                                alias: ~
                                              - start: 24
                                                end: 31
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r
                                                        - start: 33
                                                          end: 34
                                                      trailing_names:
                                                        - - date
                                                          - start: 35
                                                            end: 41
                                                  - start: 33
                                                    end: 41
                                                alias: ~
                                              - start: 33
                                                end: 41
                                        - start: 24
                                          end: 41
                                      group_by: ~
                                    - start: 17
                                      end: 41
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: r
                                                    - start: 51
                                                      end: 52
                                                  trailing_names:
                                                    - - stars
                                                      - start: 53
                                                        end: 58
                                              - start: 51
                                                end: 58
                                            ordering:
                                              - Desc
                                              - start: 59
                                                end: 63
                                            null_ordering: ~
                                          - start: 51
                                            end: 63
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: r
                                                    - start: 65
                                                      end: 66
                                                  trailing_names:
                                                    - - date
                                                      - start: 67
                                                        end: 73
                                              - start: 65
                                                end: 73
                                            ordering:
                                              - Asc
                                              - start: 74
                                                end: 77
                                            null_ordering: ~
                                          - start: 65
                                            end: 77
                                      offset: ~
                                      limit: ~
                                    - start: 42
                                      end: 77
                              - start: 17
                                end: 77
                  - start: 0
                    end: 77
                next_statements: []
              - start: 0
                end: 77
            end: ~
        - start: 0
          end: 77
      session_close: false
    - start: 0
      end: 77
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 16
                                        yield_clause: []
                                      - start: 6
                                        end: 16
                                - start: 0
                                  end: 16
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 24
                                                          end: 25
                                                      trailing_names:
                                                        - - name
                                                          - start: 26
                                                            end: 30
                                                  - start: 24
                                                    end: 30
                                                alias: ~
                                              - start: 24
                                                end: 30
                                        - start: 24
                                          end: 30
                                      group_by: ~
                                    - start: 17
                                      end: 30
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: s
                                                    - start: 40
                                                      end: 41
                                                  trailing_names:
                                                    - - followers
                                                      - start: 42
                                                        end: 51
                                              - start: 40
                                                end: 51
                                            ordering:
                                              - Desc
                                              - start: 52
                                                end: 56
                                            null_ordering: ~
                                          - start: 40
                                            end: 56
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 57
                                          end: 64
                                    - start: 31
                                      end: 64
                              - start: 17
                                end: 64
                  - start: 0
                    end: 64
                next_statements: []
              - start: 0
                end: 64
            end: ~
        - start: 0
          end: 64
      session_close: false
    - start: 0
      end: 64
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 19
                                                                      end: 27
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 30
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 31
                                                                    end: 32
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 33
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 30
                                                            end: 39
                                                    - start: 6
                                                      end: 39
                                                - start: 6
                                                  end: 39
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 39
                                        yield_clause: []
                                      - start: 6
                                        end: 39
                                - start: 0
                                  end: 39
                            result:
                              - Return:
                                  statement:
                                    - quantifier:
                                        - Distinct
                                        - start: 47
                                          end: 55
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 56
                                                          end: 57
                                                      trailing_names:
                                                        - - name
                                                          - start: 58
                                                            end: 62
                                                  - start: 56
                                                    end: 62
                                                alias: ~
                                              - start: 56
                                                end: 62
                                        - start: 56
                                          end: 62
                                      group_by: ~
                                    - start: 40
                                      end: 62
                                  order_by: ~
                              - start: 40
                                end: 62
                  - start: 0
                    end: 62
                next_statements: []
              - start: 0
                end: 62
            end: ~
        - start: 0
          end: 62
      session_close: false
    - start: 0
      end: 62
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 23
                                                          end: 24
                                                      trailing_names:
                                                        - - title
                                                          - start: 25
                                                            end: 30
                                                  - start: 23
                                                    end: 30
                                                alias: ~
                                              - start: 23
                                                end: 30
                                        - start: 23
                                          end: 30
                                      group_by: ~
                                    - start: 16
                                      end: 30
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: m
                                                    - start: 40
                                                      end: 41
                                                  trailing_names:
                                                    - - released
                                                      - start: 42
                                                        end: 50
                                              - start: 40
                                                end: 50
                                            ordering: ~
                                            null_ordering: ~
                                          - start: 40
                                            end: 50
                                      offset:
                                        - Integer:
                                            kind: Decimal
                                            integer: "10"
                                        - start: 56
                                          end: 58
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 59
                                          end: 66
                                    - start: 31
                                      end: 66
                              - start: 16
                                end: 66
                  - start: 0
                    end: 66
                next_statements: []
              - start: 0
                end: 66
            end: ~
        - start: 0
          end: 66
      session_close: false
    - start: 0
      end: 66
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 19
                                                                      end: 27
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 30
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 31
                                                                    end: 32
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 33
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 30
                                                            end: 39
                                                    - start: 6
                                                      end: 39
                                                - start: 6
                                                  end: 39
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 39
                                        yield_clause: []
                                      - start: 6
                                        end: 39
                                - start: 0
                                  end: 39
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 47
                                                          end: 48
                                                      trailing_names:
                                                        - - name
                                                          - start: 49
                                                            end: 53
                                                  - start: 47
                                                    end: 53
                                                alias: ~
                                              - start: 47
                                                end: 53
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 55
                                                            end: 60
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: m
                                                          - start: 61
                                                            end: 62
                                                  - start: 55
                                                    end: 63
                                                alias:
                                                  - movie_count
                                                  - start: 67
                                                    end: 78
                                              - start: 55
                                                end: 78
                                        - start: 47
                                          end: 78
                                      group_by: ~
                                    - start: 40
                                      end: 78
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: movie_count
                                              - start: 88
                                                end: 99
                                            ordering:
                                              - Desc
                                              - start: 100
                                                end: 104
                                            null_ordering: ~
                                          - start: 88
                                            end: 104
                                      offset: ~
                                      limit: ~
                                    - start: 79
                                      end: 104
                              - start: 40
                                end: 104
                  - start: 0
                    end: 104
                next_statements: []
              - start: 0
                end: 104
            end: ~
        - start: 0
          end: 104
      session_close: false
    - start: 0
      end: 104
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable:
                                                                    - r
                                                                    - start: 16
                                                                      end: 17
                                                                  label:
                                                                    - Label: RATED
                                                                    - start: 18
                                                                      end: 23
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 26
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 27
                                                                    end: 28
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 29
                                                                    end: 34
                                                                predicate: ~
                                                          - start: 26
                                                            end: 35
                                                    - start: 6
                                                      end: 35
                                                - start: 6
                                                  end: 35
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 35
                                        yield_clause: []
                                      - start: 6
                                        end: 35
                                - start: 0
                                  end: 35
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 43
                                                          end: 44
                                                      trailing_names:
                                                        - - name
                                                          - start: 45
                                                            end: 49
                                                  - start: 43
                                                    end: 49
                                                alias: ~
                                              - start: 43
                                                end: 49
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Avg
                                                          - start: 51
                                                            end: 54
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: r
                                                                - start: 55
                                                                  end: 56
                                                              trailing_names:
                                                                - - rating
                                                                  - start: 57
                                                                    end: 63
                                                          - start: 55
                                                            end: 63
                                                  - start: 51
                                                    end: 64
                                                alias:
                                                  - avg_rating
                                                  - start: 68
                                                    end: 78
                                              - start: 51
                                                end: 78
                                        - start: 43
                                          end: 78
                                      group_by: ~
                                    - start: 36
                                      end: 78
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: avg_rating
                                              - start: 88
                                                end: 98
                                            ordering:
                                              - Desc
                                              - start: 99
                                                end: 103
                                            null_ordering: ~
                                          - start: 88
                                            end: 103
                                      offset: ~
                                      limit: ~
                                    - start: 79
                                      end: 103
                              - start: 36
                                end: 103
                  - start: 0
                    end: 103
                next_statements: []
              - start: 0
                end: 103
            end: ~
        - start: 0
          end: 103
      session_close: false
    - start: 0
      end: 103
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: PLAYS
                                                                    - start: 19
                                                                      end: 24
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 27
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - g
                                                                  - start: 28
                                                                    end: 29
                                                                label:
                                                                  - Label: Game
                                                                  - start: 30
                                                                    end: 34
                                                                predicate: ~
                                                          - start: 27
                                                            end: 35
                                                    - start: 6
                                                      end: 35
                                                - start: 6
                                                  end: 35
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 35
                                        yield_clause: []
                                      - start: 6
                                        end: 35
                                - start: 0
                                  end: 35
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: g
                                                        - start: 43
                                                          end: 44
                                                      trailing_names:
                                                        - - name
                                                          - start: 45
                                                            end: 49
                                                  - start: 43
                                                    end: 49
                                                alias: ~
                                              - start: 43
                                                end: 49
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 51
                                                            end: 56
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: s
                                                          - start: 57
                                                            end: 58
                                                  - start: 51
                                                    end: 59
                                                alias:
                                                  - stream_count
                                                  - start: 63
                                                    end: 75
                                              - start: 51
                                                end: 75
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Avg
                                                          - start: 77
                                                            end: 80
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: s
                                                                - start: 81
                                                                  end: 82
                                                              trailing_names:
                                                                - - followers
                                                                  - start: 83
                                                                    end: 92
                                                          - start: 81
                                                            end: 92
                                                  - start: 77
                                                    end: 93
                                                alias:
                                                  - avg_followers
                                                  - start: 97
                                                    end: 110
                                              - start: 77
                                                end: 110
                                        - start: 43
                                          end: 110
                                      group_by: ~
                                    - start: 36
                                      end: 110
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: stream_count
                                              - start: 120
                                                end: 132
                                            ordering:
                                              - Desc
                                              - start: 133
                                                end: 137
                                            null_ordering: ~
                                          - start: 120
                                            end: 137
                                      offset: ~
                                      limit: ~
                                    - start: 111
                                      end: 137
                              - start: 36
                                end: 137
                  - start: 0
                    end: 137
                next_statements: []
              - start: 0
                end: 137
            end: ~
        - start: 0
          end: 137
      session_close: false
    - start: 0
      end: 137
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - n
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - properties
                                                          - start: 23
                                                            end: 33
                                                        args:
                                                          - - Variable: n
                                                            - start: 34
                                                              end: 35
                                                  - start: 23
                                                    end: 36
                                                alias:
                                                  - props
                                                  - start: 40
                                                    end: 45
                                              - start: 23
                                                end: 45
                                        - start: 23
                                          end: 45
                                      group_by: ~
                                    - start: 16
                                      end: 45
                                  order_by:
                                    - order_by: []
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "3"
                                          approximate: false
                                        - start: 46
                                          end: 53
                                    - start: 46
                                      end: 53
                              - start: 16
                                end: 53
                  - start: 0
                    end: 53
                next_statements: []
              - start: 0
                end: 53
            end: ~
        - start: 0
          end: 53
      session_close: false
    - start: 0
      end: 53
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - n
                                                                  - start: 7
                                                                    end: 8
                                                                label: ~
                                                                predicate: ~
                                                          - start: 6
                                                            end: 9
                                                    - start: 6
                                                      end: 9
                                                - start: 6
                                                  end: 9
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Eq
                                                    - start: 23
                                                      end: 24
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: n
                                                          - start: 16
                                                            end: 17
                                                        trailing_names:
                                                          - - name
                                                            - start: 18
                                                              end: 22
                                                    - start: 16
                                                      end: 22
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          String:
                                                            kind: Char
                                                            literal: Neo4j
                                                    - start: 25
                                                      end: 32
                                              - start: 16
                                                end: 32
                                          - start: 6
                                            end: 32
                                        yield_clause: []
                                      - start: 6
                                        end: 32
                                - start: 0
                                  end: 32
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - labels
                                                          - start: 40
                                                            end: 46
                                                        args:
                                                          - - Variable: n
                                                            - start: 47
                                                              end: 48
                                                  - start: 40
                                                    end: 49
                                                alias: ~
                                              - start: 40
                                                end: 49
                                        - start: 40
                                          end: 49
                                      group_by: ~
                                    - start: 33
                                      end: 49
                                  order_by: ~
                              - start: 33
                                end: 49
                  - start: 0
                    end: 49
                next_statements: []
              - start: 0
                end: 49
            end: ~
        - start: 0
          end: 49
      session_close: false
    - start: 0
      end: 49
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - n
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Publication
                                                                  - start: 9
                                                                    end: 20
                                                                predicate: ~
                                                          - start: 6
                                                            end: 21
                                                    - start: 6
                                                      end: 21
                                                - start: 6
                                                  end: 21
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 21
                                        yield_clause: []
                                      - start: 6
                                        end: 21
                                - start: 0
                                  end: 21
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 29
                                                            end: 34
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: n
                                                                - start: 35
                                                                  end: 36
                                                              trailing_names:
                                                                - - Publication_Date
                                                                  - start: 37
                                                                    end: 53
                                                          - start: 35
                                                            end: 53
                                                  - start: 29
                                                    end: 54
                                                alias: ~
                                              - start: 29
                                                end: 54
                                        - start: 29
                                          end: 54
                                      group_by: ~
                                    - start: 22
                                      end: 54
                                  order_by: ~
                              - start: 22
                                end: 54
                  - start: 0
                    end: 54
                next_statements: []
              - start: 0
                end: 54
            end: ~
        - start: 0
          end: 54
      session_close: false
    - start: 0
      end: 54
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 19
                                                                      end: 27
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 30
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 31
                                                                    end: 32
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 33
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 30
                                                            end: 39
                                                    - start: 6
                                                      end: 39
                                                - start: 6
                                                  end: 39
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 39
                                        yield_clause: []
                                      - start: 6
                                        end: 39
                                - start: 0
                                  end: 39
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: p
                                                  - start: 47
                                                    end: 48
                                                alias: ~
                                              - start: 47
                                                end: 48
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 50
                                                            end: 55
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: m
                                                          - start: 56
                                                            end: 57
                                                  - start: 50
                                                    end: 58
                                                alias:
                                                  - movie_count
                                                  - start: 62
                                                    end: 73
                                              - start: 50
                                                end: 73
                                        - start: 47
                                          end: 73
                                      group_by: ~
                                    - start: 40
                                      end: 73
                                  order_by: ~
                              - start: 40
                                end: 73
                  - start: 0
                    end: 73
                next_statements:
                  - - yield_clause: ~
                      statement:
                        - Query:
                            Primary:
                              Ambient:
                                Parts:
                                  parts: []
                                  result:
                                    - Return:
                                        statement:
                                          - quantifier: ~
                                            items:
                                              - Items:
                                                  - - value:
                                                        - Property:
                                                            source:
                                                              - Variable: p
                                                              - start: 86
                                                                end: 87
                                                            trailing_names:
                                                              - - name
                                                                - start: 88
                                                                  end: 92
                                                        - start: 86
                                                          end: 92
                                                      alias: ~
                                                    - start: 86
                                                      end: 92
                                                  - - value:
                                                        - Variable: movie_count
                                                        - start: 94
                                                          end: 105
                                                      alias: ~
                                                    - start: 94
                                                      end: 105
                                              - start: 86
                                                end: 105
                                            group_by: ~
                                          - start: 79
                                            end: 105
                                        order_by:
                                          - order_by:
                                              - - key:
                                                    - Variable: movie_count
                                                    - start: 115
                                                      end: 126
                                                  ordering:
                                                    - Desc
                                                    - start: 127
                                                      end: 131
                                                  null_ordering: ~
                                                - start: 115
                                                  end: 131
                                            offset: ~
                                            limit:
                                              - count:
                                                  Integer:
                                                    kind: Decimal
                                                    integer: "3"
                                                approximate: false
                                              - start: 132
                                                end: 139
                                          - start: 106
                                            end: 139
                                    - start: 79
                                      end: 139
                        - start: 79
                          end: 139
                    - start: 74
                      end: 139
              - start: 0
                end: 139
            end: ~
        - start: 0
          end: 139
      session_close: false
    - start: 0
      end: 139
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - q
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Question
                                                                  - start: 9
                                                                    end: 17
                                                                predicate: ~
                                                          - start: 6
                                                            end: 18
                                                    - start: 6
                                                      end: 18
                                                - start: 6
                                                  end: 18
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 18
                                        yield_clause: []
                                      - start: 6
                                        end: 18
                                - start: 0
                                  end: 18
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: q
                                                  - start: 26
                                                    end: 27
                                                alias: ~
                                              - start: 26
                                                end: 27
                                        - start: 26
                                          end: 27
                                      group_by: ~
                                    - start: 19
                                      end: 27
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: q
                                                    - start: 37
                                                      end: 38
                                                  trailing_names:
                                                    - - view_count
                                                      - start: 39
                                                        end: 49
                                              - start: 37
                                                end: 49
                                            ordering:
                                              - Desc
                                              - start: 50
                                                end: 54
                                            null_ordering: ~
                                          - start: 37
                                            end: 54
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "1"
                                          approximate: false
                                        - start: 55
                                          end: 62
                                    - start: 28
                                      end: 62
                              - start: 19
                                end: 62
                  - start: 0
                    end: 62
                next_statements:
                  - - yield_clause: ~
                      statement:
                        - Query:
                            Primary:
                              Ambient:
                                Parts:
                                  parts:
                                    - - Match:
                                          Simple:
                                            - pattern:
                                                - match_mode: ~
                                                  patterns:
                                                    - - variable: ~
                                                        prefix: ~
                                                        expr:
                                                          - Concat:
                                                              - - Pattern:
                                                                    Node:
                                                                      variable:
                                                                        - u
                                                                        - start: 75
                                                                          end: 76
                                                                      label:
                                                                        - Label: User
                                                                        - start: 77
                                                                          end: 81
                                                                      predicate: ~
                                                                - start: 74
                                                                  end: 82
                                                              - - Pattern:
                                                                    Edge:
                                                                      kind: Right
                                                                      filler:
                                                                        variable: ~
                                                                        label:
                                                                          - Label: ASKED
                                                                          - start: 85
                                                                            end: 90
                                                                        predicate: ~
                                                                - start: 82
                                                                  end: 93
                                                              - - Pattern:
                                                                    Node:
                                                                      variable:
                                                                        - q
                                                                        - start: 94
                                                                          end: 95
                                                                      label: ~
                                                                      predicate: ~
                                                                - start: 93
                                                                  end: 96
                                                          - start: 74
                                                            end: 96
                                                      - start: 74
                                                        end: 96
                                                  keep: ~
                                                  where_clause: ~
                                                - start: 74
                                                  end: 96
                                              yield_clause: []
                                            - start: 74
                                              end: 96
                                      - start: 68
                                        end: 96
                                  result:
                                    - Return:
                                        statement:
                                          - quantifier: ~
                                            items:
                                              - Items:
                                                  - - value:
                                                        - Property:
                                                            source:
                                                              - Variable: u
                                                              - start: 104
                                                                end: 105
                                                            trailing_names:
                                                              - - display_name
                                                                - start: 106
                                                                  end: 118
                                                        - start: 104
                                                          end: 118
                                                      alias: ~
                                                    - start: 104
                                                      end: 118
                                              - start: 104
                                                end: 118
                                            group_by: ~
                                          - start: 97
                                            end: 118
                                        order_by: ~
                                    - start: 97
                                      end: 118
                        - start: 68
                          end: 118
                    - start: 63
                      end: 118
              - start: 0
                end: 118
            end: ~
        - start: 0
          end: 118
      session_close: false
    - start: 0
      end: 118
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: PLAYS
                                                                    - start: 19
                                                                      end: 24
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 27
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - g
                                                                  - start: 28
                                                                    end: 29
                                                                label:
                                                                  - Label: Game
                                                                  - start: 30
                                                                    end: 34
                                                                predicate: ~
                                                          - start: 27
                                                            end: 35
                                                    - start: 6
                                                      end: 35
                                                - start: 6
                                                  end: 35
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 35
                                        yield_clause: []
                                      - start: 6
                                        end: 35
                                - start: 0
                                  end: 35
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: g
                                                  - start: 43
                                                    end: 44
                                                alias: ~
                                              - start: 43
                                                end: 44
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 46
                                                            end: 51
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: s
                                                          - start: 52
                                                            end: 53
                                                  - start: 46
                                                    end: 54
                                                alias:
                                                  - stream_count
                                                  - start: 58
                                                    end: 70
                                              - start: 46
                                                end: 70
                                        - start: 43
                                          end: 70
                                      group_by: ~
                                    - start: 36
                                      end: 70
                                  order_by: ~
                              - start: 36
                                end: 70
                  - start: 0
                    end: 70
                next_statements:
                  - - yield_clause: ~
                      statement:
                        - Query:
                            Primary:
                              Ambient:
                                Parts:
                                  parts: []
                                  result:
                                    - Return:
                                        statement:
                                          - quantifier: ~
                                            items:
                                              - Items:
                                                  - - value:
                                                        - Property:
                                                            source:
                                                              - Variable: g
                                                              - start: 83
                                                                end: 84
                                                            trailing_names:
                                                              - - name
                                                                - start: 85
                                                                  end: 89
                                                        - start: 83
                                                          end: 89
                                                      alias: ~
                                                    - start: 83
                                                      end: 89
                                                  - - value:
                                                        - Variable: stream_count
                                                        - start: 91
                                                          end: 103
                                                      alias: ~
                                                    - start: 91
                                                      end: 103
                                              - start: 83
                                                end: 103
                                            group_by: ~
                                          - start: 76
                                            end: 103
                                        order_by:
                                          - order_by:
                                              - - key:
                                                    - Variable: stream_count
                                                    - start: 113
                                                      end: 125
                                                  ordering:
                                                    - Desc
                                                    - start: 126
                                                      end: 130
                                                  null_ordering: ~
                                                - start: 113
                                                  end: 130
                                            offset: ~
                                            limit:
                                              - count:
                                                  Integer:
                                                    kind: Decimal
                                                    integer: "5"
                                                approximate: false
                                              - start: 131
                                                end: 138
                                          - start: 104
                                            end: 138
                                    - start: 76
                                      end: 138
                        - start: 76
                          end: 138
                    - start: 71
                      end: 138
              - start: 0
                end: 138
            end: ~
        - start: 0
          end: 138
      session_close: false
    - start: 0
      end: 138
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate:
                                                                  - Property:
                                                                      - - name:
                                                                            - title
                                                                            - start: 15
                                                                              end: 20
                                                                          value:
                                                                            - Value:
                                                                                Literal:
                                                                                  String:
                                                                                    kind: Char
                                                                                    literal: The Matrix
                                                                            - start: 21
                                                                              end: 33
                                                                        - start: 15
                                                                          end: 33
                                                                  - start: 14
                                                                    end: 34
                                                          - start: 6
                                                            end: 35
                                                    - start: 6
                                                      end: 35
                                                - start: 6
                                                  end: 35
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 35
                                        yield_clause: []
                                      - start: 6
                                        end: 35
                                - start: 0
                                  end: 35
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 43
                                                                    end: 44
                                                                label:
                                                                  - Label: Person
                                                                  - start: 45
                                                                    end: 51
                                                                predicate: ~
                                                          - start: 42
                                                            end: 52
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 55
                                                                      end: 63
                                                                  predicate: ~
                                                          - start: 52
                                                            end: 66
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 67
                                                                    end: 68
                                                                label: ~
                                                                predicate: ~
                                                          - start: 66
                                                            end: 69
                                                    - start: 42
                                                      end: 69
                                                - start: 42
                                                  end: 69
                                            keep: ~
                                            where_clause: ~
                                          - start: 42
                                            end: 69
                                        yield_clause: []
                                      - start: 42
                                        end: 69
                                - start: 36
                                  end: 69
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 77
                                                          end: 78
                                                      trailing_names:
                                                        - - name
                                                          - start: 79
                                                            end: 83
                                                  - start: 77
                                                    end: 83
                                                alias: ~
                                              - start: 77
                                                end: 83
                                        - start: 77
                                          end: 83
                                      group_by: ~
                                    - start: 70
                                      end: 83
                                  order_by: ~
                              - start: 70
                                end: 83
                  - start: 0
                    end: 83
                next_statements: []
              - start: 0
                end: 83
            end: ~
        - start: 0
          end: 83
      session_close: false
    - start: 0
      end: 83
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: POSTS
                                                                    - start: 17
                                                                      end: 22
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 25
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - t
                                                                  - start: 26
                                                                    end: 27
                                                                label:
                                                                  - Label: Tweet
                                                                  - start: 28
                                                                    end: 33
                                                                predicate: ~
                                                          - start: 25
                                                            end: 34
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: MENTIONS
                                                                    - start: 37
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 34
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - mentioned
                                                                  - start: 49
                                                                    end: 58
                                                                label:
                                                                  - Label: User
                                                                  - start: 59
                                                                    end: 63
                                                                predicate: ~
                                                          - start: 48
                                                            end: 64
                                                    - start: 6
                                                      end: 64
                                                - start: 6
                                                  end: 64
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 64
                                        yield_clause: []
                                      - start: 6
                                        end: 64
                                - start: 0
                                  end: 64
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 72
                                                          end: 73
                                                      trailing_names:
                                                        - - screen_name
                                                          - start: 74
                                                            end: 85
                                                  - start: 72
                                                    end: 85
                                                alias: ~
                                              - start: 72
                                                end: 85
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: mentioned
                                                        - start: 87
                                                          end: 96
                                                      trailing_names:
                                                        - - screen_name
                                                          - start: 97
                                                            end: 108
                                                  - start: 87
                                                    end: 108
                                                alias: ~
                                              - start: 87
                                                end: 108
                                        - start: 72
                                          end: 108
                                      group_by: ~
                                    - start: 65
                                      end: 108
                                  order_by: ~
                              - start: 65
                                end: 108
                  - start: 0
                    end: 108
                next_statements: []
              - start: 0
                end: 108
            end: ~
        - start: 0
          end: 108
      session_close: false
    - start: 0
      end: 108
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Actor
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 18
                                                                      end: 26
                                                                  predicate: ~
                                                          - start: 15
                                                            end: 29
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 30
                                                                    end: 31
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 32
                                                                    end: 37
                                                                predicate: ~
                                                          - start: 29
                                                            end: 38
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Left
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: DIRECTED
                                                                    - start: 42
                                                                      end: 50
                                                                  predicate: ~
                                                          - start: 38
                                                            end: 52
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - d
                                                                  - start: 53
                                                                    end: 54
                                                                label:
                                                                  - Label: Director
                                                                  - start: 55
                                                                    end: 63
                                                                predicate: ~
                                                          - start: 52
                                                            end: 64
                                                    - start: 6
                                                      end: 64
                                                - start: 6
                                                  end: 64
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 64
                                        yield_clause: []
                                      - start: 6
                                        end: 64
                                - start: 0
                                  end: 64
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 72
                                                                    end: 73
                                                                label: ~
                                                                predicate: ~
                                                          - start: 71
                                                            end: 74
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ACTED_IN
                                                                    - start: 77
                                                                      end: 85
                                                                  predicate: ~
                                                          - start: 74
                                                            end: 88
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m2
                                                                  - start: 89
                                                                    end: 91
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 92
                                                                    end: 97
                                                                predicate: ~
                                                          - start: 88
                                                            end: 98
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Left
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: DIRECTED
                                                                    - start: 102
                                                                      end: 110
                                                                  predicate: ~
                                                          - start: 98
                                                            end: 112
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - d
                                                                  - start: 113
                                                                    end: 114
                                                                label: ~
                                                                predicate: ~
                                                          - start: 112
                                                            end: 115
                                                    - start: 71
                                                      end: 115
                                                - start: 71
                                                  end: 115
                                            keep: ~
                                            where_clause: ~
                                          - start: 71
                                            end: 115
                                        yield_clause: []
                                      - start: 71
                                        end: 115
                                - start: 65
                                  end: 115
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: a
                                                        - start: 123
                                                          end: 124
                                                      trailing_names:
                                                        - - name
                                                          - start: 125
                                                            end: 129
                                                  - start: 123
                                                    end: 129
                                                alias: ~
                                              - start: 123
                                                end: 129
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: d
                                                        - start: 131
                                                          end: 132
                                                      trailing_names:
                                                        - - name
                                                          - start: 133
                                                            end: 137
                                                  - start: 131
                                                    end: 137
                                                alias: ~
                                              - start: 131
                                                end: 137
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 139
                                                            end: 144
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: m
                                                          - start: 145
                                                            end: 146
                                                  - start: 139
                                                    end: 147
                                                alias:
                                                  - collaborations
                                                  - start: 151
                                                    end: 165
                                              - start: 139
                                                end: 165
                                        - start: 123
                                          end: 165
                                      group_by: ~
                                    - start: 116
                                      end: 165
                                  order_by: ~
                              - start: 116
                                end: 165
                  - start: 0
                    end: 165
                next_statements: []
              - start: 0
                end: 165
            end: ~
        - start: 0
          end: 165
      session_close: false
    - start: 0
      end: 165
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: CREW_FOR
                                                                    - start: 19
                                                                      end: 27
                                                                  predicate:
                                                                    - Property:
                                                                        - - name:
                                                                              - job
                                                                              - start: 28
                                                                                end: 31
                                                                            value:
                                                                              - Value:
                                                                                  Literal:
                                                                                    String:
                                                                                      kind: Char
                                                                                      literal: Director
                                                                              - start: 32
                                                                                end: 42
                                                                          - start: 28
                                                                            end: 42
                                                                    - start: 27
                                                                      end: 43
                                                          - start: 16
                                                            end: 46
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 47
                                                                    end: 48
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 49
                                                                    end: 54
                                                                predicate: ~
                                                          - start: 46
                                                            end: 55
                                                    - start: 6
                                                      end: 55
                                                - start: 6
                                                  end: 55
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 55
                                        yield_clause: []
                                      - start: 6
                                        end: 55
                                - start: 0
                                  end: 55
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 63
                                                          end: 64
                                                      trailing_names:
                                                        - - name
                                                          - start: 65
                                                            end: 69
                                                  - start: 63
                                                    end: 69
                                                alias: ~
                                              - start: 63
                                                end: 69
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 71
                                                          end: 72
                                                      trailing_names:
                                                        - - title
                                                          - start: 73
                                                            end: 78
                                                  - start: 71
                                                    end: 78
                                                alias: ~
                                              - start: 71
                                                end: 78
                                        - start: 63
                                          end: 78
                                      group_by: ~
                                    - start: 56
                                      end: 78
                                  order_by: ~
                              - start: 56
                                end: 78
                  - start: 0
                    end: 78
                next_statements: []
              - start: 0
                end: 78
            end: ~
        - start: 0
          end: 78
      session_close: false
    - start: 0
      end: 78
- Err:
    Unexpected:
      input: "MATCH (m:Movie) WHERE (m)<-[:ACTED_IN]-(:Person{name:'Tom Hanks'}) RETURN m.title"
      span:
        start: 0
        end: 5
      position:
        - 1
        - 1
- Err:
    Unexpected:
      input: "MATCH (s:Stream) WHERE (s)-[:HAS_LANGUAGE]->(:Language{name:'en'}) AND (s)-[:PLAYS]->(:Game{name:'Rust'}) RETURN s.name"
      span:
        start: 0
        end: 5
      position:
        - 1
        - 1
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable:
                                                    - p
                                                    - start: 6
                                                      end: 7
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 9
                                                                    end: 10
                                                                label:
                                                                  - Label: Character
                                                                  - start: 11
                                                                    end: 20
                                                                predicate: ~
                                                          - start: 8
                                                            end: 21
                                                        - - Quantified:
                                                              path:
                                                                - Pattern:
                                                                    Edge:
                                                                      kind: Right
                                                                      filler:
                                                                        variable: ~
                                                                        label:
                                                                          - Label: INTERACTS
                                                                          - start: 24
                                                                            end: 33
                                                                        predicate: ~
                                                                - start: 21
                                                                  end: 36
                                                              quantifier:
                                                                - General:
                                                                    lower_bound:
                                                                      - kind: Decimal
                                                                        integer: "1"
                                                                      - start: 37
                                                                        end: 38
                                                                    upper_bound: ~
                                                                - start: 36
                                                                  end: 40
                                                          - start: 21
                                                            end: 40
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 41
                                                                    end: 42
                                                                label:
                                                                  - Label: Character
                                                                  - start: 43
                                                                    end: 52
                                                                predicate: ~
                                                          - start: 40
                                                            end: 53
                                                    - start: 8
                                                      end: 53
                                                - start: 6
                                                  end: 53
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 53
                                        yield_clause: []
                                      - start: 6
                                        end: 53
                                - start: 0
                                  end: 53
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: a
                                                        - start: 61
                                                          end: 62
                                                      trailing_names:
                                                        - - name
                                                          - start: 63
                                                            end: 67
                                                  - start: 61
                                                    end: 67
                                                alias: ~
                                              - start: 61
                                                end: 67
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: b
                                                        - start: 69
                                                          end: 70
                                                      trailing_names:
                                                        - - name
                                                          - start: 71
                                                            end: 75
                                                  - start: 69
                                                    end: 75
                                                alias: ~
                                              - start: 69
                                                end: 75
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - LENGTH
                                                          - start: 77
                                                            end: 83
                                                        args:
                                                          - - Variable: p
                                                            - start: 84
                                                              end: 85
                                                  - start: 77
                                                    end: 86
                                                alias: ~
                                              - start: 77
                                                end: 86
                                        - start: 61
                                          end: 86
                                      group_by: ~
                                    - start: 54
                                      end: 86
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Function:
                                                  Generic:
                                                    name:
                                                      - LENGTH
                                                      - start: 96
                                                        end: 102
                                                    args:
                                                      - - Variable: p
                                                        - start: 103
                                                          end: 104
                                              - start: 96
                                                end: 105
                                            ordering:
                                              - Desc
                                              - start: 106
                                                end: 110
                                            null_ordering: ~
                                          - start: 96
                                            end: 110
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "1"
                                          approximate: false
                                        - start: 111
                                          end: 118
                                    - start: 87
                                      end: 118
                              - start: 54
                                end: 118
                  - start: 0
                    end: 118
                next_statements: []
              - start: 0
                end: 118
            end: ~
        - start: 0
          end: 118
      session_close: false
    - start: 0
      end: 118
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable:
                                                    - p
                                                    - start: 6
                                                      end: 7
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 9
                                                                    end: 10
                                                                label: ~
                                                                predicate: ~
                                                          - start: 8
                                                            end: 11
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label: ~
                                                                  predicate: ~
                                                          - start: 11
                                                            end: 16
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 17
                                                                    end: 18
                                                                label: ~
                                                                predicate: ~
                                                          - start: 16
                                                            end: 19
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label: ~
                                                                  predicate: ~
                                                          - start: 19
                                                            end: 24
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 25
                                                                    end: 26
                                                                label: ~
                                                                predicate: ~
                                                          - start: 24
                                                            end: 27
                                                    - start: 8
                                                      end: 27
                                                - start: 6
                                                  end: 27
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 27
                                        yield_clause: []
                                      - start: 6
                                        end: 27
                                - start: 0
                                  end: 27
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - nodes
                                                          - start: 35
                                                            end: 40
                                                        args:
                                                          - - Variable: p
                                                            - start: 41
                                                              end: 42
                                                  - start: 35
                                                    end: 43
                                                alias: ~
                                              - start: 35
                                                end: 43
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - relationships
                                                          - start: 45
                                                            end: 58
                                                        args:
                                                          - - Variable: p
                                                            - start: 59
                                                              end: 60
                                                  - start: 45
                                                    end: 61
                                                alias: ~
                                              - start: 45
                                                end: 61
                                        - start: 35
                                          end: 61
                                      group_by: ~
                                    - start: 28
                                      end: 61
                                  order_by:
                                    - order_by: []
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "3"
                                          approximate: false
                                        - start: 62
                                          end: 69
                                    - start: 62
                                      end: 69
                              - start: 28
                                end: 69
                  - start: 0
                    end: 69
                next_statements: []
              - start: 0
                end: 69
            end: ~
        - start: 0
          end: 69
      session_close: false
    - start: 0
      end: 69
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: WROTE
                                                                    - start: 17
                                                                      end: 22
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 25
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r
                                                                  - start: 26
                                                                    end: 27
                                                                label:
                                                                  - Label: Review
                                                                  - start: 28
                                                                    end: 34
                                                                predicate: ~
                                                          - start: 25
                                                            end: 35
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: REVIEWS
                                                                    - start: 38
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 35
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 49
                                                                    end: 50
                                                                label:
                                                                  - Label: Business
                                                                  - start: 51
                                                                    end: 59
                                                                predicate: ~
                                                          - start: 48
                                                            end: 60
                                                    - start: 6
                                                      end: 60
                                                - start: 6
                                                  end: 60
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Ge
                                                    - start: 75
                                                      end: 77
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: r
                                                          - start: 67
                                                            end: 68
                                                        trailing_names:
                                                          - - stars
                                                            - start: 69
                                                              end: 74
                                                    - start: 67
                                                      end: 74
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          Numeric:
                                                            Integer:
                                                              - kind: Decimal
                                                                integer: "4"
                                                              - start: 78
                                                                end: 79
                                                    - start: 78
                                                      end: 79
                                              - start: 67
                                                end: 79
                                          - start: 6
                                            end: 79
                                        yield_clause: []
                                      - start: 6
                                        end: 79
                                - start: 0
                                  end: 79
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: b
                                                        - start: 87
                                                          end: 88
                                                      trailing_names:
                                                        - - name
                                                          - start: 89
                                                            end: 93
                                                  - start: 87
                                                    end: 93
                                                alias: ~
                                              - start: 87
                                                end: 93
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 95
                                                            end: 100
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: r
                                                          - start: 101
                                                            end: 102
                                                  - start: 95
                                                    end: 103
                                                alias:
                                                  - high_ratings
                                                  - start: 107
                                                    end: 119
                                              - start: 95
                                                end: 119
                                        - start: 87
                                          end: 119
                                      group_by: ~
                                    - start: 80
                                      end: 119
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: high_ratings
                                              - start: 129
                                                end: 141
                                            ordering:
                                              - Desc
                                              - start: 142
                                                end: 146
                                            null_ordering: ~
                                          - start: 129
                                            end: 146
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 147
                                          end: 154
                                    - start: 120
                                      end: 154
                              - start: 80
                                end: 154
                  - start: 0
                    end: 154
                next_statements: []
              - start: 0
                end: 154
            end: ~
        - start: 0
          end: 154
      session_close: false
    - start: 0
      end: 154
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - pc
                                                                  - start: 7
                                                                    end: 9
                                                                label:
                                                                  - Label: ProductionCompany
                                                                  - start: 10
                                                                    end: 27
                                                                predicate: ~
                                                          - start: 6
                                                            end: 28
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Left
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: PRODUCED_BY
                                                                    - start: 32
                                                                      end: 43
                                                                  predicate: ~
                                                          - start: 28
                                                            end: 45
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 46
                                                                    end: 47
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 48
                                                                    end: 53
                                                                predicate: ~
                                                          - start: 45
                                                            end: 54
                                                    - start: 6
                                                      end: 54
                                                - start: 6
                                                  end: 54
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 54
                                        yield_clause: []
                                      - start: 6
                                        end: 54
                                - start: 0
                                  end: 54
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: pc
                                                        - start: 62
                                                          end: 64
                                                      trailing_names:
                                                        - - name
                                                          - start: 65
                                                            end: 69
                                                  - start: 62
                                                    end: 69
                                                alias: ~
                                              - start: 62
                                                end: 69
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 71
                                                            end: 76
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: m
                                                          - start: 77
                                                            end: 78
                                                  - start: 71
                                                    end: 79
                                                alias:
                                                  - movie_count
                                                  - start: 83
                                                    end: 94
                                              - start: 71
                                                end: 94
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Sum
                                                          - start: 96
                                                            end: 99
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 100
                                                                  end: 101
                                                              trailing_names:
                                                                - - budget
                                                                  - start: 102
                                                                    end: 108
                                                          - start: 100
                                                            end: 108
                                                  - start: 96
                                                    end: 109
                                                alias:
                                                  - total_budget
                                                  - start: 113
                                                    end: 125
                                              - start: 96
                                                end: 125
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Avg
                                                          - start: 127
                                                            end: 130
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 131
                                                                  end: 132
                                                              trailing_names:
                                                                - - revenue
                                                                  - start: 133
                                                                    end: 140
                                                          - start: 131
                                                            end: 140
                                                  - start: 127
                                                    end: 141
                                                alias:
                                                  - avg_revenue
                                                  - start: 145
                                                    end: 156
                                              - start: 127
                                                end: 156
                                        - start: 62
                                          end: 156
                                      group_by: ~
                                    - start: 55
                                      end: 156
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: total_budget
                                              - start: 166
                                                end: 178
                                            ordering:
                                              - Desc
                                              - start: 179
                                                end: 183
                                            null_ordering: ~
                                          - start: 166
                                            end: 183
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 184
                                          end: 191
                                    - start: 157
                                      end: 191
                              - start: 55
                                end: 191
                  - start: 0
                    end: 191
                next_statements: []
              - start: 0
                end: 191
            end: ~
        - start: 0
          end: 191
      session_close: false
    - start: 0
      end: 191
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable:
                                                                    - r
                                                                    - start: 18
                                                                      end: 19
                                                                  label:
                                                                    - Label: REVIEWED
                                                                    - start: 20
                                                                      end: 28
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 31
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 32
                                                                    end: 33
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 34
                                                                    end: 39
                                                                predicate: ~
                                                          - start: 31
                                                            end: 40
                                                    - start: 6
                                                      end: 40
                                                - start: 6
                                                  end: 40
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 40
                                        yield_clause: []
                                      - start: 6
                                        end: 40
                                - start: 0
                                  end: 40
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 48
                                                          end: 49
                                                      trailing_names:
                                                        - - title
                                                          - start: 50
                                                            end: 55
                                                  - start: 48
                                                    end: 55
                                                alias: ~
                                              - start: 48
                                                end: 55
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Avg
                                                          - start: 57
                                                            end: 60
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: r
                                                                - start: 61
                                                                  end: 62
                                                              trailing_names:
                                                                - - rating
                                                                  - start: 63
                                                                    end: 69
                                                          - start: 61
                                                            end: 69
                                                  - start: 57
                                                    end: 70
                                                alias:
                                                  - avg_rating
                                                  - start: 74
                                                    end: 84
                                              - start: 57
                                                end: 84
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 86
                                                            end: 91
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: r
                                                          - start: 92
                                                            end: 93
                                                  - start: 86
                                                    end: 94
                                                alias:
                                                  - review_count
                                                  - start: 98
                                                    end: 110
                                              - start: 86
                                                end: 110
                                        - start: 48
                                          end: 110
                                      group_by: ~
                                    - start: 41
                                      end: 110
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: avg_rating
                                              - start: 120
                                                end: 130
                                            ordering:
                                              - Desc
                                              - start: 131
                                                end: 135
                                            null_ordering: ~
                                          - start: 120
                                            end: 135
                                      offset: ~
                                      limit: ~
                                    - start: 111
                                      end: 135
                              - start: 41
                                end: 135
                  - start: 0
                    end: 135
                next_statements: []
              - start: 0
                end: 135
            end: ~
        - start: 0
          end: 135
      session_close: false
    - start: 0
      end: 135
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: MODERATOR
                                                                    - start: 19
                                                                      end: 28
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 31
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 32
                                                                    end: 33
                                                                label:
                                                                  - Label: User
                                                                  - start: 34
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 31
                                                            end: 39
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: VIP
                                                                    - start: 42
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 39
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s2
                                                                  - start: 49
                                                                    end: 51
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 52
                                                                    end: 58
                                                                predicate: ~
                                                          - start: 48
                                                            end: 59
                                                    - start: 6
                                                      end: 59
                                                - start: 6
                                                  end: 59
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 59
                                        yield_clause: []
                                      - start: 6
                                        end: 59
                                - start: 0
                                  end: 59
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 67
                                                          end: 68
                                                      trailing_names:
                                                        - - name
                                                          - start: 69
                                                            end: 73
                                                  - start: 67
                                                    end: 73
                                                alias: ~
                                              - start: 67
                                                end: 73
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 75
                                                          end: 76
                                                      trailing_names:
                                                        - - name
                                                          - start: 77
                                                            end: 81
                                                  - start: 75
                                                    end: 81
                                                alias: ~
                                              - start: 75
                                                end: 81
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s2
                                                        - start: 83
                                                          end: 85
                                                      trailing_names:
                                                        - - name
                                                          - start: 86
                                                            end: 90
                                                  - start: 83
                                                    end: 90
                                                alias: ~
                                              - start: 83
                                                end: 90
                                        - start: 67
                                          end: 90
                                      group_by: ~
                                    - start: 60
                                      end: 90
                                  order_by: ~
                              - start: 60
                                end: 90
                  - start: 0
                    end: 90
                next_statements: []
              - start: 0
                end: 90
            end: ~
        - start: 0
          end: 90
      session_close: false
    - start: 0
      end: 90
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Person
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Disjunction:
                                                                        - - Disjunction:
                                                                              - - Label: ACTED_IN
                                                                                - start: 19
                                                                                  end: 27
                                                                              - - Label: DIRECTED
                                                                                - start: 28
                                                                                  end: 36
                                                                          - start: 19
                                                                            end: 36
                                                                        - - Label: PRODUCED
                                                                          - start: 37
                                                                            end: 45
                                                                    - start: 19
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 49
                                                                    end: 50
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 51
                                                                    end: 56
                                                                predicate: ~
                                                          - start: 48
                                                            end: 57
                                                    - start: 6
                                                      end: 57
                                                - start: 6
                                                  end: 57
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 57
                                        yield_clause: []
                                      - start: 6
                                        end: 57
                                - start: 0
                                  end: 57
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 65
                                                          end: 66
                                                      trailing_names:
                                                        - - name
                                                          - start: 67
                                                            end: 71
                                                  - start: 65
                                                    end: 71
                                                alias: ~
                                              - start: 65
                                                end: 71
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 73
                                                          end: 74
                                                      trailing_names:
                                                        - - title
                                                          - start: 75
                                                            end: 80
                                                  - start: 73
                                                    end: 80
                                                alias: ~
                                              - start: 73
                                                end: 80
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - type
                                                          - start: 82
                                                            end: 86
                                                        args:
                                                          - - Variable: r
                                                            - start: 87
                                                              end: 88
                                                  - start: 82
                                                    end: 89
                                                alias:
                                                  - relationship_type
                                                  - start: 93
                                                    end: 110
                                              - start: 82
                                                end: 110
                                        - start: 65
                                          end: 110
                                      group_by: ~
                                    - start: 58
                                      end: 110
                                  order_by: ~
                              - start: 58
                                end: 110
                  - start: 0
                    end: 110
                next_statements: []
              - start: 0
                end: 110
            end: ~
        - start: 0
          end: 110
      session_close: false
    - start: 0
      end: 110
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - And
                                                    - start: 41
                                                      end: 44
                                                  left:
                                                    - Binary:
                                                        op:
                                                          - Ge
                                                          - start: 33
                                                            end: 35
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 22
                                                                  end: 23
                                                              trailing_names:
                                                                - - released
                                                                  - start: 24
                                                                    end: 32
                                                          - start: 22
                                                            end: 32
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "2000"
                                                                    - start: 36
                                                                      end: 40
                                                          - start: 36
                                                            end: 40
                                                    - start: 22
                                                      end: 40
                                                  right:
                                                    - Binary:
                                                        op:
                                                          - Le
                                                          - start: 56
                                                            end: 58
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 45
                                                                  end: 46
                                                              trailing_names:
                                                                - - released
                                                                  - start: 47
                                                                    end: 55
                                                          - start: 45
                                                            end: 55
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "2010"
                                                                    - start: 59
                                                                      end: 63
                                                          - start: 59
                                                            end: 63
                                                    - start: 45
                                                      end: 63
                                              - start: 22
                                                end: 63
                                          - start: 6
                                            end: 63
                                        yield_clause: []
                                      - start: 6
                                        end: 63
                                - start: 0
                                  end: 63
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 71
                                                          end: 72
                                                      trailing_names:
                                                        - - title
                                                          - start: 73
                                                            end: 78
                                                  - start: 71
                                                    end: 78
                                                alias: ~
                                              - start: 71
                                                end: 78
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 80
                                                          end: 81
                                                      trailing_names:
                                                        - - released
                                                          - start: 82
                                                            end: 90
                                                  - start: 80
                                                    end: 90
                                                alias: ~
                                              - start: 80
                                                end: 90
                                        - start: 71
                                          end: 90
                                      group_by: ~
                                    - start: 64
                                      end: 90
                                  order_by: ~
                              - start: 64
                                end: 90
                  - start: 0
                    end: 90
                next_statements: []
              - start: 0
                end: 90
            end: ~
        - start: 0
          end: 90
      session_close: false
    - start: 0
      end: 90
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - And
                                                    - start: 42
                                                      end: 45
                                                  left:
                                                    - Binary:
                                                        op:
                                                          - Gt
                                                          - start: 31
                                                            end: 32
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 22
                                                                  end: 23
                                                              trailing_names:
                                                                - - budget
                                                                  - start: 24
                                                                    end: 30
                                                          - start: 22
                                                            end: 30
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "50000000"
                                                                    - start: 33
                                                                      end: 41
                                                          - start: 33
                                                            end: 41
                                                    - start: 22
                                                      end: 41
                                                  right:
                                                    - Binary:
                                                        op:
                                                          - Lt
                                                          - start: 55
                                                            end: 56
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 46
                                                                  end: 47
                                                              trailing_names:
                                                                - - budget
                                                                  - start: 48
                                                                    end: 54
                                                          - start: 46
                                                            end: 54
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "150000000"
                                                                    - start: 57
                                                                      end: 66
                                                          - start: 57
                                                            end: 66
                                                    - start: 46
                                                      end: 66
                                              - start: 22
                                                end: 66
                                          - start: 6
                                            end: 66
                                        yield_clause: []
                                      - start: 6
                                        end: 66
                                - start: 0
                                  end: 66
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 74
                                                          end: 75
                                                      trailing_names:
                                                        - - title
                                                          - start: 76
                                                            end: 81
                                                  - start: 74
                                                    end: 81
                                                alias: ~
                                              - start: 74
                                                end: 81
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 83
                                                          end: 84
                                                      trailing_names:
                                                        - - budget
                                                          - start: 85
                                                            end: 91
                                                  - start: 83
                                                    end: 91
                                                alias: ~
                                              - start: 83
                                                end: 91
                                        - start: 74
                                          end: 91
                                      group_by: ~
                                    - start: 67
                                      end: 91
                                  order_by: ~
                              - start: 67
                                end: 91
                  - start: 0
                    end: 91
                next_statements: []
              - start: 0
                end: 91
            end: ~
        - start: 0
          end: 91
      session_close: false
    - start: 0
      end: 91
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Review
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Eq
                                                    - start: 33
                                                      end: 34
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: r
                                                          - start: 23
                                                            end: 24
                                                        trailing_names:
                                                          - - summary
                                                            - start: 25
                                                              end: 32
                                                    - start: 23
                                                      end: 32
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          String:
                                                            kind: Char
                                                            literal: Pretty funny at times
                                                    - start: 35
                                                      end: 58
                                              - start: 23
                                                end: 58
                                          - start: 6
                                            end: 58
                                        yield_clause: []
                                      - start: 6
                                        end: 58
                                - start: 0
                                  end: 58
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r
                                                        - start: 66
                                                          end: 67
                                                      trailing_names:
                                                        - - text
                                                          - start: 68
                                                            end: 72
                                                  - start: 66
                                                    end: 72
                                                alias: ~
                                              - start: 66
                                                end: 72
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r
                                                        - start: 74
                                                          end: 75
                                                      trailing_names:
                                                        - - rating
                                                          - start: 76
                                                            end: 82
                                                  - start: 74
                                                    end: 82
                                                alias: ~
                                              - start: 74
                                                end: 82
                                        - start: 66
                                          end: 82
                                      group_by: ~
                                    - start: 59
                                      end: 82
                                  order_by: ~
                              - start: 59
                                end: 82
                  - start: 0
                    end: 82
                next_statements: []
              - start: 0
                end: 82
            end: ~
        - start: 0
          end: 82
      session_close: false
    - start: 0
      end: 82
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u1
                                                                  - start: 7
                                                                    end: 9
                                                                label:
                                                                  - Label: User
                                                                  - start: 10
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: FOLLOWS
                                                                    - start: 18
                                                                      end: 25
                                                                  predicate: ~
                                                          - start: 15
                                                            end: 28
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u2
                                                                  - start: 29
                                                                    end: 31
                                                                label:
                                                                  - Label: User
                                                                  - start: 32
                                                                    end: 36
                                                                predicate: ~
                                                          - start: 28
                                                            end: 37
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: FOLLOWS
                                                                    - start: 40
                                                                      end: 47
                                                                  predicate: ~
                                                          - start: 37
                                                            end: 50
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u1
                                                                  - start: 51
                                                                    end: 53
                                                                label: ~
                                                                predicate: ~
                                                          - start: 50
                                                            end: 54
                                                    - start: 6
                                                      end: 54
                                                - start: 6
                                                  end: 54
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 54
                                        yield_clause: []
                                      - start: 6
                                        end: 54
                                - start: 0
                                  end: 54
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u1
                                                        - start: 62
                                                          end: 64
                                                      trailing_names:
                                                        - - name
                                                          - start: 65
                                                            end: 69
                                                  - start: 62
                                                    end: 69
                                                alias: ~
                                              - start: 62
                                                end: 69
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u2
                                                        - start: 71
                                                          end: 73
                                                      trailing_names:
                                                        - - name
                                                          - start: 74
                                                            end: 78
                                                  - start: 71
                                                    end: 78
                                                alias: ~
                                              - start: 71
                                                end: 78
                                        - start: 62
                                          end: 78
                                      group_by: ~
                                    - start: 55
                                      end: 78
                                  order_by: ~
                              - start: 55
                                end: 78
                  - start: 0
                    end: 78
                next_statements: []
              - start: 0
                end: 78
            end: ~
        - start: 0
          end: 78
      session_close: false
    - start: 0
      end: 78
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: FOLLOWS
                                                                    - start: 17
                                                                      end: 24
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 27
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 28
                                                                    end: 29
                                                                label:
                                                                  - Label: User
                                                                  - start: 30
                                                                    end: 34
                                                                predicate: ~
                                                          - start: 27
                                                            end: 35
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: FOLLOWS
                                                                    - start: 38
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 35
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 49
                                                                    end: 50
                                                                label:
                                                                  - Label: User
                                                                  - start: 51
                                                                    end: 55
                                                                predicate: ~
                                                          - start: 48
                                                            end: 56
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: FOLLOWS
                                                                    - start: 59
                                                                      end: 66
                                                                  predicate: ~
                                                          - start: 56
                                                            end: 69
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 70
                                                                    end: 71
                                                                label: ~
                                                                predicate: ~
                                                          - start: 69
                                                            end: 72
                                                    - start: 6
                                                      end: 72
                                                - start: 6
                                                  end: 72
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 72
                                        yield_clause: []
                                      - start: 6
                                        end: 72
                                - start: 0
                                  end: 72
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: a
                                                        - start: 80
                                                          end: 81
                                                      trailing_names:
                                                        - - name
                                                          - start: 82
                                                            end: 86
                                                  - start: 80
                                                    end: 86
                                                alias: ~
                                              - start: 80
                                                end: 86
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: b
                                                        - start: 88
                                                          end: 89
                                                      trailing_names:
                                                        - - name
                                                          - start: 90
                                                            end: 94
                                                  - start: 88
                                                    end: 94
                                                alias: ~
                                              - start: 88
                                                end: 94
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 96
                                                          end: 97
                                                      trailing_names:
                                                        - - name
                                                          - start: 98
                                                            end: 102
                                                  - start: 96
                                                    end: 102
                                                alias: ~
                                              - start: 96
                                                end: 102
                                        - start: 80
                                          end: 102
                                      group_by: ~
                                    - start: 73
                                      end: 102
                                  order_by: ~
                              - start: 73
                                end: 102
                  - start: 0
                    end: 102
                next_statements: []
              - start: 0
                end: 102
            end: ~
        - start: 0
          end: 102
      session_close: false
    - start: 0
      end: 102
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Storm
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: AFFECTS
                                                                    - start: 18
                                                                      end: 25
                                                                  predicate: ~
                                                          - start: 15
                                                            end: 28
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r1
                                                                  - start: 29
                                                                    end: 31
                                                                label:
                                                                  - Label: Region
                                                                  - start: 32
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 28
                                                            end: 39
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Left
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: AFFECTS
                                                                    - start: 43
                                                                      end: 50
                                                                  predicate: ~
                                                          - start: 39
                                                            end: 52
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 53
                                                                    end: 54
                                                                label: ~
                                                                predicate: ~
                                                          - start: 52
                                                            end: 55
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: AFFECTS
                                                                    - start: 58
                                                                      end: 65
                                                                  predicate: ~
                                                          - start: 55
                                                            end: 68
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r2
                                                                  - start: 69
                                                                    end: 71
                                                                label:
                                                                  - Label: Region
                                                                  - start: 72
                                                                    end: 78
                                                                predicate: ~
                                                          - start: 68
                                                            end: 79
                                                    - start: 6
                                                      end: 79
                                                - start: 6
                                                  end: 79
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Ne
                                                    - start: 89
                                                      end: 91
                                                  left:
                                                    - Variable: r1
                                                    - start: 86
                                                      end: 88
                                                  right:
                                                    - Variable: r2
                                                    - start: 92
                                                      end: 94
                                              - start: 86
                                                end: 94
                                          - start: 6
                                            end: 94
                                        yield_clause: []
                                      - start: 6
                                        end: 94
                                - start: 0
                                  end: 94
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 102
                                                          end: 103
                                                      trailing_names:
                                                        - - Name
                                                          - start: 104
                                                            end: 108
                                                  - start: 102
                                                    end: 108
                                                alias: ~
                                              - start: 102
                                                end: 108
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r1
                                                        - start: 110
                                                          end: 112
                                                      trailing_names:
                                                        - - Region_name
                                                          - start: 113
                                                            end: 124
                                                  - start: 110
                                                    end: 124
                                                alias: ~
                                              - start: 110
                                                end: 124
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r2
                                                        - start: 126
                                                          end: 128
                                                      trailing_names:
                                                        - - Region_name
                                                          - start: 129
                                                            end: 140
                                                  - start: 126
                                                    end: 140
                                                alias: ~
                                              - start: 126
                                                end: 140
                                        - start: 102
                                          end: 140
                                      group_by: ~
                                    - start: 95
                                      end: 140
                                  order_by: ~
                              - start: 95
                                end: 140
                  - start: 0
                    end: 140
                next_statements: []
              - start: 0
                end: 140
            end: ~
        - start: 0
          end: 140
      session_close: false
    - start: 0
      end: 140
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: IN_GENRE
                                                                    - start: 18
                                                                      end: 26
                                                                  predicate: ~
                                                          - start: 15
                                                            end: 29
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - g
                                                                  - start: 30
                                                                    end: 31
                                                                label:
                                                                  - Label: Genre
                                                                  - start: 32
                                                                    end: 37
                                                                predicate: ~
                                                          - start: 29
                                                            end: 38
                                                    - start: 6
                                                      end: 38
                                                - start: 6
                                                  end: 38
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 38
                                        yield_clause: []
                                      - start: 6
                                        end: 38
                                - start: 0
                                  end: 38
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 46
                                                          end: 47
                                                      trailing_names:
                                                        - - title
                                                          - start: 48
                                                            end: 53
                                                  - start: 46
                                                    end: 53
                                                alias: ~
                                              - start: 46
                                                end: 53
                                            - - value:
                                                  - Function:
                                                      Generic:
                                                        name:
                                                          - collect
                                                          - start: 55
                                                            end: 62
                                                        args:
                                                          - - Property:
                                                                source:
                                                                  - Variable: g
                                                                  - start: 63
                                                                    end: 64
                                                                trailing_names:
                                                                  - - name
                                                                    - start: 65
                                                                      end: 69
                                                            - start: 63
                                                              end: 69
                                                  - start: 55
                                                    end: 70
                                                alias:
                                                  - genres
                                                  - start: 74
                                                    end: 80
                                              - start: 55
                                                end: 80
                                        - start: 46
                                          end: 80
                                      group_by: ~
                                    - start: 39
                                      end: 80
                                  order_by: ~
                              - start: 39
                                end: 80
                  - start: 0
                    end: 80
                next_statements: []
              - start: 0
                end: 80
            end: ~
        - start: 0
          end: 80
      session_close: false
    - start: 0
      end: 80
- Err:
    Unexpected:
      input: "MATCH (q:Question)-[:TAGGED]->(t:Tag) RETURN q.title, size(collect(t.name)) AS tag_count ORDER BY tag_count DESC"
      span:
        start: 52
        end: 53
      position:
        - 1
        - 53
- Err:
    Unexpected:
      input: "MATCH (p:Person)-[:ACTED_IN]->(m:Movie)-[:IN_GENRE]->(g:Genre) RETURN p.name, collect(DISTINCT g.name) AS genres"
      span:
        start: 76
        end: 77
      position:
        - 1
        - 77
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: m
                                                  - start: 23
                                                    end: 24
                                                alias: ~
                                              - start: 23
                                                end: 24
                                        - start: 23
                                          end: 24
                                      group_by: ~
                                    - start: 16
                                      end: 24
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: m
                                                    - start: 34
                                                      end: 35
                                                  trailing_names:
                                                    - - budget
                                                      - start: 36
                                                        end: 42
                                              - start: 34
                                                end: 42
                                            ordering:
                                              - Desc
                                              - start: 43
                                                end: 47
                                            null_ordering: ~
                                          - start: 34
                                            end: 47
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "1"
                                          approximate: false
                                        - start: 48
                                          end: 55
                                    - start: 25
                                      end: 55
                              - start: 16
                                end: 55
                  - start: 0
                    end: 55
                next_statements:
                  - - yield_clause: ~
                      statement:
                        - Query:
                            Primary:
                              Ambient:
                                Parts:
                                  parts: []
                                  result:
                                    - Return:
                                        statement:
                                          - quantifier: ~
                                            items:
                                              - Items:
                                                  - - value:
                                                        - Property:
                                                            source:
                                                              - Variable: m
                                                              - start: 68
                                                                end: 69
                                                            trailing_names:
                                                              - - title
                                                                - start: 70
                                                                  end: 75
                                                        - start: 68
                                                          end: 75
                                                      alias: ~
                                                    - start: 68
                                                      end: 75
                                                  - - value:
                                                        - Property:
                                                            source:
                                                              - Variable: m
                                                              - start: 77
                                                                end: 78
                                                            trailing_names:
                                                              - - budget
                                                                - start: 79
                                                                  end: 85
                                                        - start: 77
                                                          end: 85
                                                      alias: ~
                                                    - start: 77
                                                      end: 85
                                              - start: 68
                                                end: 85
                                            group_by: ~
                                          - start: 61
                                            end: 85
                                        order_by: ~
                                    - start: 61
                                      end: 85
                        - start: 61
                          end: 85
                    - start: 56
                      end: 85
              - start: 0
                end: 85
            end: ~
        - start: 0
          end: 85
      session_close: false
    - start: 0
      end: 85
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 16
                                        yield_clause: []
                                      - start: 6
                                        end: 16
                                - start: 0
                                  end: 16
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 24
                                                          end: 25
                                                      trailing_names:
                                                        - - name
                                                          - start: 26
                                                            end: 30
                                                  - start: 24
                                                    end: 30
                                                alias: ~
                                              - start: 24
                                                end: 30
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 32
                                                          end: 33
                                                      trailing_names:
                                                        - - followers
                                                          - start: 34
                                                            end: 43
                                                  - start: 32
                                                    end: 43
                                                alias: ~
                                              - start: 32
                                                end: 43
                                        - start: 24
                                          end: 43
                                      group_by: ~
                                    - start: 17
                                      end: 43
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: s
                                                    - start: 53
                                                      end: 54
                                                  trailing_names:
                                                    - - followers
                                                      - start: 55
                                                        end: 64
                                              - start: 53
                                                end: 64
                                            ordering:
                                              - Desc
                                              - start: 65
                                                end: 69
                                            null_ordering: ~
                                          - start: 53
                                            end: 69
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "10"
                                          approximate: false
                                        - start: 70
                                          end: 78
                                    - start: 44
                                      end: 78
                              - start: 17
                                end: 78
                  - start: 0
                    end: 78
                next_statements: []
              - start: 0
                end: 78
            end: ~
        - start: 0
          end: 78
      session_close: false
    - start: 0
      end: 78
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ASKED
                                                                    - start: 17
                                                                      end: 22
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 25
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - q
                                                                  - start: 26
                                                                    end: 27
                                                                label:
                                                                  - Label: Question
                                                                  - start: 28
                                                                    end: 36
                                                                predicate: ~
                                                          - start: 25
                                                            end: 37
                                                    - start: 6
                                                      end: 37
                                                - start: 6
                                                  end: 37
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 37
                                        yield_clause: []
                                      - start: 6
                                        end: 37
                                - start: 0
                                  end: 37
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 45
                                                          end: 46
                                                      trailing_names:
                                                        - - display_name
                                                          - start: 47
                                                            end: 59
                                                  - start: 45
                                                    end: 59
                                                alias: ~
                                              - start: 45
                                                end: 59
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 61
                                                            end: 66
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: q
                                                          - start: 67
                                                            end: 68
                                                  - start: 61
                                                    end: 69
                                                alias:
                                                  - question_count
                                                  - start: 73
                                                    end: 87
                                              - start: 61
                                                end: 87
                                        - start: 45
                                          end: 87
                                      group_by: ~
                                    - start: 38
                                      end: 87
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: question_count
                                              - start: 97
                                                end: 111
                                            ordering:
                                              - Desc
                                              - start: 112
                                                end: 116
                                            null_ordering: ~
                                          - start: 97
                                            end: 116
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "10"
                                          approximate: false
                                        - start: 117
                                          end: 125
                                    - start: 88
                                      end: 125
                              - start: 38
                                end: 125
                  - start: 0
                    end: 125
                next_statements: []
              - start: 0
                end: 125
            end: ~
        - start: 0
          end: 125
      session_close: false
    - start: 0
      end: 125
- Err:
    Unexpected:
      input: "MATCH (u:User)-[:WROTE]->(r:Review)-[:REVIEWS]->(b:Business)-[:IN_CATEGORY]->(c:Category{name:'Restaurants'}) RETURN b.name, AVG(r.stars) AS avg_rating, COUNT(r) AS review_count WHERE review_count > 5 ORDER BY avg_rating DESC LIMIT 10"
      span:
        start: 178
        end: 183
      position:
        - 1
        - 179
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: MODERATOR
                                                                    - start: 19
                                                                      end: 28
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 31
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 32
                                                                    end: 33
                                                                label:
                                                                  - Label: User
                                                                  - start: 34
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 31
                                                            end: 39
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: VIP
                                                                    - start: 42
                                                                      end: 45
                                                                  predicate: ~
                                                          - start: 39
                                                            end: 48
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s2
                                                                  - start: 49
                                                                    end: 51
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 52
                                                                    end: 58
                                                                predicate: ~
                                                          - start: 48
                                                            end: 59
                                                    - start: 6
                                                      end: 59
                                                - start: 6
                                                  end: 59
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 59
                                        yield_clause: []
                                      - start: 6
                                        end: 59
                                - start: 0
                                  end: 59
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 67
                                                          end: 68
                                                      trailing_names:
                                                        - - name
                                                          - start: 69
                                                            end: 73
                                                  - start: 67
                                                    end: 73
                                                alias: ~
                                              - start: 67
                                                end: 73
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 75
                                                            end: 80
                                                        quantifier:
                                                          - Distinct
                                                          - start: 81
                                                            end: 89
                                                        expr:
                                                          - Variable: s2
                                                          - start: 90
                                                            end: 92
                                                  - start: 75
                                                    end: 93
                                                alias:
                                                  - vip_stream_count
                                                  - start: 97
                                                    end: 113
                                              - start: 75
                                                end: 113
                                        - start: 67
                                          end: 113
                                      group_by: ~
                                    - start: 60
                                      end: 113
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: vip_stream_count
                                              - start: 123
                                                end: 139
                                            ordering:
                                              - Desc
                                              - start: 140
                                                end: 144
                                            null_ordering: ~
                                          - start: 123
                                            end: 144
                                      offset: ~
                                      limit: ~
                                    - start: 114
                                      end: 144
                              - start: 60
                                end: 144
                  - start: 0
                    end: 144
                next_statements: []
              - start: 0
                end: 144
            end: ~
        - start: 0
          end: 144
      session_close: false
    - start: 0
      end: 144
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - parent
                                                                  - start: 7
                                                                    end: 13
                                                                label:
                                                                  - Label: Organization
                                                                  - start: 14
                                                                    end: 26
                                                                predicate: ~
                                                          - start: 6
                                                            end: 27
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: HAS_SUBSIDIARY
                                                                    - start: 30
                                                                      end: 44
                                                                  predicate: ~
                                                          - start: 27
                                                            end: 47
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - sub
                                                                  - start: 48
                                                                    end: 51
                                                                label:
                                                                  - Label: Organization
                                                                  - start: 52
                                                                    end: 64
                                                                predicate: ~
                                                          - start: 47
                                                            end: 65
                                                    - start: 6
                                                      end: 65
                                                - start: 6
                                                  end: 65
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 65
                                        yield_clause: []
                                      - start: 6
                                        end: 65
                                - start: 0
                                  end: 65
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: parent
                                                        - start: 73
                                                          end: 79
                                                      trailing_names:
                                                        - - name
                                                          - start: 80
                                                            end: 84
                                                  - start: 73
                                                    end: 84
                                                alias: ~
                                              - start: 73
                                                end: 84
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 86
                                                            end: 91
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: sub
                                                          - start: 92
                                                            end: 95
                                                  - start: 86
                                                    end: 96
                                                alias:
                                                  - subsidiary_count
                                                  - start: 100
                                                    end: 116
                                              - start: 86
                                                end: 116
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Sum
                                                          - start: 118
                                                            end: 121
                                                        quantifier: ~
                                                        expr:
                                                          - Property:
                                                              source:
                                                                - Variable: sub
                                                                - start: 122
                                                                  end: 125
                                                              trailing_names:
                                                                - - revenue
                                                                  - start: 126
                                                                    end: 133
                                                          - start: 122
                                                            end: 133
                                                  - start: 118
                                                    end: 134
                                                alias:
                                                  - total_revenue
                                                  - start: 138
                                                    end: 151
                                              - start: 118
                                                end: 151
                                        - start: 73
                                          end: 151
                                      group_by: ~
                                    - start: 66
                                      end: 151
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: subsidiary_count
                                              - start: 161
                                                end: 177
                                            ordering:
                                              - Desc
                                              - start: 178
                                                end: 182
                                            null_ordering: ~
                                          - start: 161
                                            end: 182
                                      offset: ~
                                      limit: ~
                                    - start: 152
                                      end: 182
                              - start: 66
                                end: 182
                  - start: 0
                    end: 182
                next_statements: []
              - start: 0
                end: 182
            end: ~
        - start: 0
          end: 182
      session_close: false
    - start: 0
      end: 182
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Character
                                                                  - start: 9
                                                                    end: 18
                                                                predicate: ~
                                                          - start: 6
                                                            end: 19
                                                    - start: 6
                                                      end: 19
                                                - start: 6
                                                  end: 19
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 19
                                        yield_clause: []
                                      - start: 6
                                        end: 19
                                - start: 0
                                  end: 19
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 27
                                                          end: 28
                                                      trailing_names:
                                                        - - name
                                                          - start: 29
                                                            end: 33
                                                  - start: 27
                                                    end: 33
                                                alias: ~
                                              - start: 27
                                                end: 33
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 35
                                                          end: 36
                                                      trailing_names:
                                                        - - book1PageRank
                                                          - start: 37
                                                            end: 50
                                                  - start: 35
                                                    end: 50
                                                alias: ~
                                              - start: 35
                                                end: 50
                                        - start: 27
                                          end: 50
                                      group_by: ~
                                    - start: 20
                                      end: 50
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: c
                                                    - start: 60
                                                      end: 61
                                                  trailing_names:
                                                    - - book1PageRank
                                                      - start: 62
                                                        end: 75
                                              - start: 60
                                                end: 75
                                            ordering:
                                              - Desc
                                              - start: 76
                                                end: 80
                                            null_ordering: ~
                                          - start: 60
                                            end: 80
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "10"
                                          approximate: false
                                        - start: 81
                                          end: 89
                                    - start: 51
                                      end: 89
                              - start: 20
                                end: 89
                  - start: 0
                    end: 89
                next_statements: []
              - start: 0
                end: 89
            end: ~
        - start: 0
          end: 89
      session_close: false
    - start: 0
      end: 89
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Character
                                                                  - start: 9
                                                                    end: 18
                                                                predicate: ~
                                                          - start: 6
                                                            end: 19
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Any
                                                                filler:
                                                                  variable:
                                                                    - r
                                                                    - start: 21
                                                                      end: 22
                                                                  label:
                                                                    - Label: INTERACTS
                                                                    - start: 23
                                                                      end: 32
                                                                  predicate: ~
                                                          - start: 19
                                                            end: 34
                                                        - - Pattern:
                                                              Node:
                                                                variable: ~
                                                                label: ~
                                                                predicate: ~
                                                          - start: 34
                                                            end: 36
                                                    - start: 6
                                                      end: 36
                                                - start: 6
                                                  end: 36
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 36
                                        yield_clause: []
                                      - start: 6
                                        end: 36
                                - start: 0
                                  end: 36
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 44
                                                          end: 45
                                                      trailing_names:
                                                        - - name
                                                          - start: 46
                                                            end: 50
                                                  - start: 44
                                                    end: 50
                                                alias: ~
                                              - start: 44
                                                end: 50
                                            - - value:
                                                  - Aggregate:
                                                      General:
                                                        kind:
                                                          - Count
                                                          - start: 52
                                                            end: 57
                                                        quantifier: ~
                                                        expr:
                                                          - Variable: r
                                                          - start: 58
                                                            end: 59
                                                  - start: 52
                                                    end: 60
                                                alias:
                                                  - degree
                                                  - start: 64
                                                    end: 70
                                              - start: 52
                                                end: 70
                                        - start: 44
                                          end: 70
                                      group_by: ~
                                    - start: 37
                                      end: 70
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Variable: degree
                                              - start: 80
                                                end: 86
                                            ordering:
                                              - Desc
                                              - start: 87
                                                end: 91
                                            null_ordering: ~
                                          - start: 80
                                            end: 91
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "10"
                                          approximate: false
                                        - start: 92
                                          end: 100
                                    - start: 71
                                      end: 100
                              - start: 37
                                end: 100
                  - start: 0
                    end: 100
                next_statements: []
              - start: 0
                end: 100
            end: ~
        - start: 0
          end: 100
      session_close: false
    - start: 0
      end: 100
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                    - start: 6
                                                      end: 14
                                                - start: 6
                                                  end: 14
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 14
                                        yield_clause: []
                                      - start: 6
                                        end: 14
                                - start: 0
                                  end: 14
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 22
                                                          end: 23
                                                      trailing_names:
                                                        - - name
                                                          - start: 24
                                                            end: 28
                                                  - start: 22
                                                    end: 28
                                                alias: ~
                                              - start: 22
                                                end: 28
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 30
                                                          end: 31
                                                      trailing_names:
                                                        - - betweenness
                                                          - start: 32
                                                            end: 43
                                                  - start: 30
                                                    end: 43
                                                alias: ~
                                              - start: 30
                                                end: 43
                                        - start: 22
                                          end: 43
                                      group_by: ~
                                    - start: 15
                                      end: 43
                                  order_by:
                                    - order_by:
                                        - - key:
                                              - Property:
                                                  source:
                                                    - Variable: u
                                                    - start: 53
                                                      end: 54
                                                  trailing_names:
                                                    - - betweenness
                                                      - start: 55
                                                        end: 66
                                              - start: 53
                                                end: 66
                                            ordering:
                                              - Desc
                                              - start: 67
                                                end: 71
                                            null_ordering: ~
                                          - start: 53
                                            end: 71
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 72
                                          end: 79
                                    - start: 44
                                      end: 79
                              - start: 15
                                end: 79
                  - start: 0
                    end: 79
                next_statements: []
              - start: 0
                end: 79
            end: ~
        - start: 0
          end: 79
      session_close: false
    - start: 0
      end: 79
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Author
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: WROTE
                                                                    - start: 19
                                                                      end: 24
                                                                  predicate: ~
                                                          - start: 16
                                                            end: 27
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - p
                                                                  - start: 28
                                                                    end: 29
                                                                label:
                                                                  - Label: Publication
                                                                  - start: 30
                                                                    end: 41
                                                                predicate: ~
                                                          - start: 27
                                                            end: 42
                                                    - start: 6
                                                      end: 42
                                                - start: 6
                                                  end: 42
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 42
                                        yield_clause: []
                                      - start: 6
                                        end: 42
                                - start: 0
                                  end: 42
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: a
                                                        - start: 50
                                                          end: 51
                                                      trailing_names:
                                                        - - name
                                                          - start: 52
                                                            end: 56
                                                  - start: 50
                                                    end: 56
                                                alias: ~
                                              - start: 50
                                                end: 56
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: p
                                                        - start: 58
                                                          end: 59
                                                      trailing_names:
                                                        - - title
                                                          - start: 60
                                                            end: 65
                                                  - start: 58
                                                    end: 65
                                                alias: ~
                                              - start: 58
                                                end: 65
                                        - start: 50
                                          end: 65
                                      group_by: ~
                                    - start: 43
                                      end: 65
                                  order_by: ~
                              - start: 43
                                end: 65
                  - start: 0
                    end: 65
                next_statements: []
              - start: 0
                end: 65
            end: ~
        - start: 0
          end: 65
      session_close: false
    - start: 0
      end: 65
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Student
                                                                  - start: 9
                                                                    end: 16
                                                                predicate: ~
                                                          - start: 6
                                                            end: 17
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: ENROLLED_IN
                                                                    - start: 20
                                                                      end: 31
                                                                  predicate: ~
                                                          - start: 17
                                                            end: 34
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - c
                                                                  - start: 35
                                                                    end: 36
                                                                label:
                                                                  - Label: Course
                                                                  - start: 37
                                                                    end: 43
                                                                predicate: ~
                                                          - start: 34
                                                            end: 44
                                                    - start: 6
                                                      end: 44
                                                - start: 6
                                                  end: 44
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 44
                                        yield_clause: []
                                      - start: 6
                                        end: 44
                                - start: 0
                                  end: 44
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: s
                                                        - start: 52
                                                          end: 53
                                                      trailing_names:
                                                        - - name
                                                          - start: 54
                                                            end: 58
                                                  - start: 52
                                                    end: 58
                                                alias: ~
                                              - start: 52
                                                end: 58
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: c
                                                        - start: 60
                                                          end: 61
                                                      trailing_names:
                                                        - - name
                                                          - start: 62
                                                            end: 66
                                                  - start: 60
                                                    end: 66
                                                alias: ~
                                              - start: 60
                                                end: 66
                                        - start: 52
                                          end: 66
                                      group_by: ~
                                    - start: 45
                                      end: 66
                                  order_by: ~
                              - start: 45
                                end: 66
                  - start: 0
                    end: 66
                next_statements: []
              - start: 0
                end: 66
            end: ~
        - start: 0
          end: 66
      session_close: false
    - start: 0
      end: 66
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - e
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Employee
                                                                  - start: 9
                                                                    end: 17
                                                                predicate: ~
                                                          - start: 6
                                                            end: 18
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: WORKS_FOR
                                                                    - start: 21
                                                                      end: 30
                                                                  predicate: ~
                                                          - start: 18
                                                            end: 33
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - d
                                                                  - start: 34
                                                                    end: 35
                                                                label:
                                                                  - Label: Department
                                                                  - start: 36
                                                                    end: 46
                                                                predicate: ~
                                                          - start: 33
                                                            end: 47
                                                    - start: 6
                                                      end: 47
                                                - start: 6
                                                  end: 47
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 47
                                        yield_clause: []
                                      - start: 6
                                        end: 47
                                - start: 0
                                  end: 47
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: e
                                                        - start: 55
                                                          end: 56
                                                      trailing_names:
                                                        - - name
                                                          - start: 57
                                                            end: 61
                                                  - start: 55
                                                    end: 61
                                                alias: ~
                                              - start: 55
                                                end: 61
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: d
                                                        - start: 63
                                                          end: 64
                                                      trailing_names:
                                                        - - name
                                                          - start: 65
                                                            end: 69
                                                  - start: 63
                                                    end: 69
                                                alias: ~
                                              - start: 63
                                                end: 69
                                        - start: 55
                                          end: 69
                                      group_by: ~
                                    - start: 48
                                      end: 69
                                  order_by: ~
                              - start: 48
                                end: 69
                  - start: 0
                    end: 69
                next_statements: []
              - start: 0
                end: 69
            end: ~
        - start: 0
          end: 69
      session_close: false
    - start: 0
      end: 69
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - pr
                                                                  - start: 7
                                                                    end: 9
                                                                label:
                                                                  - Label: Process
                                                                  - start: 10
                                                                    end: 17
                                                                predicate: ~
                                                          - start: 6
                                                            end: 18
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: LISTENS
                                                                    - start: 21
                                                                      end: 28
                                                                  predicate: ~
                                                          - start: 18
                                                            end: 31
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - port
                                                                  - start: 32
                                                                    end: 36
                                                                label:
                                                                  - Label: Port
                                                                  - start: 37
                                                                    end: 41
                                                                predicate: ~
                                                          - start: 31
                                                            end: 42
                                                    - start: 6
                                                      end: 42
                                                - start: 6
                                                  end: 42
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 42
                                        yield_clause: []
                                      - start: 6
                                        end: 42
                                - start: 0
                                  end: 42
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: pr
                                                        - start: 50
                                                          end: 52
                                                      trailing_names:
                                                        - - name
                                                          - start: 53
                                                            end: 57
                                                  - start: 50
                                                    end: 57
                                                alias: ~
                                              - start: 50
                                                end: 57
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: port
                                                        - start: 59
                                                          end: 63
                                                      trailing_names:
                                                        - - port
                                                          - start: 64
                                                            end: 68
                                                  - start: 59
                                                    end: 68
                                                alias: ~
                                              - start: 59
                                                end: 68
                                        - start: 50
                                          end: 68
                                      group_by: ~
                                    - start: 43
                                      end: 68
                                  order_by: ~
                              - start: 43
                                end: 68
                  - start: 0
                    end: 68
                next_statements: []
              - start: 0
                end: 68
            end: ~
        - start: 0
          end: 68
      session_close: false
    - start: 0
      end: 68
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - r
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Region
                                                                  - start: 9
                                                                    end: 15
                                                                predicate: ~
                                                          - start: 6
                                                            end: 16
                                                    - start: 6
                                                      end: 16
                                                - start: 6
                                                  end: 16
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Ne
                                                    - start: 37
                                                      end: 39
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: r
                                                          - start: 23
                                                            end: 24
                                                        trailing_names:
                                                          - - Region_name
                                                            - start: 25
                                                              end: 36
                                                    - start: 23
                                                      end: 36
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          String:
                                                            kind: Char
                                                            literal: Denmark
                                                    - start: 40
                                                      end: 49
                                              - start: 23
                                                end: 49
                                          - start: 6
                                            end: 49
                                        yield_clause: []
                                      - start: 6
                                        end: 49
                                - start: 0
                                  end: 49
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: r
                                                        - start: 57
                                                          end: 58
                                                      trailing_names:
                                                        - - Region_name
                                                          - start: 59
                                                            end: 70
                                                  - start: 57
                                                    end: 70
                                                alias: ~
                                              - start: 57
                                                end: 70
                                        - start: 57
                                          end: 70
                                      group_by: ~
                                    - start: 50
                                      end: 70
                                  order_by: ~
                              - start: 50
                                end: 70
                  - start: 0
                    end: 70
                next_statements: []
              - start: 0
                end: 70
            end: ~
        - start: 0
          end: 70
      session_close: false
    - start: 0
      end: 70
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Or
                                                    - start: 35
                                                      end: 37
                                                  left:
                                                    - Binary:
                                                        op:
                                                          - Eq
                                                          - start: 31
                                                            end: 32
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 22
                                                                  end: 23
                                                              trailing_names:
                                                                - - budget
                                                                  - start: 24
                                                                    end: 30
                                                          - start: 22
                                                            end: 30
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "0"
                                                                    - start: 33
                                                                      end: 34
                                                          - start: 33
                                                            end: 34
                                                    - start: 22
                                                      end: 34
                                                  right:
                                                    - Binary:
                                                        op:
                                                          - Eq
                                                          - start: 48
                                                            end: 49
                                                        left:
                                                          - Property:
                                                              source:
                                                                - Variable: m
                                                                - start: 38
                                                                  end: 39
                                                              trailing_names:
                                                                - - revenue
                                                                  - start: 40
                                                                    end: 47
                                                          - start: 38
                                                            end: 47
                                                        right:
                                                          - Value:
                                                              Literal:
                                                                Numeric:
                                                                  Integer:
                                                                    - kind: Decimal
                                                                      integer: "0"
                                                                    - start: 50
                                                                      end: 51
                                                          - start: 50
                                                            end: 51
                                                    - start: 38
                                                      end: 51
                                              - start: 22
                                                end: 51
                                          - start: 6
                                            end: 51
                                        yield_clause: []
                                      - start: 6
                                        end: 51
                                - start: 0
                                  end: 51
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 59
                                                          end: 60
                                                      trailing_names:
                                                        - - title
                                                          - start: 61
                                                            end: 66
                                                  - start: 59
                                                    end: 66
                                                alias: ~
                                              - start: 59
                                                end: 66
                                        - start: 59
                                          end: 66
                                      group_by: ~
                                    - start: 52
                                      end: 66
                                  order_by: ~
                              - start: 52
                                end: 66
                  - start: 0
                    end: 66
                next_statements: []
              - start: 0
                end: 66
            end: ~
        - start: 0
          end: 66
      session_close: false
    - start: 0
      end: 66
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - u
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: User
                                                                  - start: 9
                                                                    end: 13
                                                                predicate: ~
                                                          - start: 6
                                                            end: 14
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: MODERATOR
                                                                    - start: 17
                                                                      end: 26
                                                                  predicate: ~
                                                          - start: 14
                                                            end: 29
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - s
                                                                  - start: 30
                                                                    end: 31
                                                                label:
                                                                  - Label: Stream
                                                                  - start: 32
                                                                    end: 38
                                                                predicate: ~
                                                          - start: 29
                                                            end: 39
                                                        - - Pattern:
                                                              Edge:
                                                                kind: Right
                                                                filler:
                                                                  variable: ~
                                                                  label:
                                                                    - Label: HAS_LANGUAGE
                                                                    - start: 42
                                                                      end: 54
                                                                  predicate: ~
                                                          - start: 39
                                                            end: 57
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - l
                                                                  - start: 58
                                                                    end: 59
                                                                label:
                                                                  - Label: Language
                                                                  - start: 60
                                                                    end: 68
                                                                predicate: ~
                                                          - start: 57
                                                            end: 69
                                                    - start: 6
                                                      end: 69
                                                - start: 6
                                                  end: 69
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Ne
                                                    - start: 83
                                                      end: 85
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: l
                                                          - start: 76
                                                            end: 77
                                                        trailing_names:
                                                          - - name
                                                            - start: 78
                                                              end: 82
                                                    - start: 76
                                                      end: 82
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          String:
                                                            kind: Char
                                                            literal: en
                                                    - start: 86
                                                      end: 90
                                              - start: 76
                                                end: 90
                                          - start: 6
                                            end: 90
                                        yield_clause: []
                                      - start: 6
                                        end: 90
                                - start: 0
                                  end: 90
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: u
                                                        - start: 98
                                                          end: 99
                                                      trailing_names:
                                                        - - name
                                                          - start: 100
                                                            end: 104
                                                  - start: 98
                                                    end: 104
                                                alias: ~
                                              - start: 98
                                                end: 104
                                        - start: 98
                                          end: 104
                                      group_by: ~
                                    - start: 91
                                      end: 104
                                  order_by:
                                    - order_by: []
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "5"
                                          approximate: false
                                        - start: 105
                                          end: 112
                                    - start: 105
                                      end: 112
                              - start: 91
                                end: 112
                  - start: 0
                    end: 112
                next_statements: []
              - start: 0
                end: 112
            end: ~
        - start: 0
          end: 112
      session_close: false
    - start: 0
      end: 112
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - q
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Question
                                                                  - start: 9
                                                                    end: 17
                                                                predicate: ~
                                                          - start: 6
                                                            end: 18
                                                    - start: 6
                                                      end: 18
                                                - start: 6
                                                  end: 18
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Eq
                                                    - start: 40
                                                      end: 41
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: q
                                                          - start: 25
                                                            end: 26
                                                        trailing_names:
                                                          - - answer_count
                                                            - start: 27
                                                              end: 39
                                                    - start: 25
                                                      end: 39
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          Numeric:
                                                            Integer:
                                                              - kind: Decimal
                                                                integer: "0"
                                                              - start: 42
                                                                end: 43
                                                    - start: 42
                                                      end: 43
                                              - start: 25
                                                end: 43
                                          - start: 6
                                            end: 43
                                        yield_clause: []
                                      - start: 6
                                        end: 43
                                - start: 0
                                  end: 43
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: q
                                                        - start: 51
                                                          end: 52
                                                      trailing_names:
                                                        - - title
                                                          - start: 53
                                                            end: 58
                                                  - start: 51
                                                    end: 58
                                                alias: ~
                                              - start: 51
                                                end: 58
                                        - start: 51
                                          end: 58
                                      group_by: ~
                                    - start: 44
                                      end: 58
                                  order_by:
                                    - order_by: []
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "3"
                                          approximate: false
                                        - start: 59
                                          end: 66
                                    - start: 59
                                      end: 66
                              - start: 44
                                end: 66
                  - start: 0
                    end: 66
                next_statements: []
              - start: 0
                end: 66
            end: ~
        - start: 0
          end: 66
      session_close: false
    - start: 0
      end: 66
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - o
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Organization
                                                                  - start: 9
                                                                    end: 21
                                                                predicate: ~
                                                          - start: 6
                                                            end: 22
                                                    - start: 6
                                                      end: 22
                                                - start: 6
                                                  end: 22
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Eq
                                                    - start: 40
                                                      end: 41
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: o
                                                          - start: 29
                                                            end: 30
                                                        trailing_names:
                                                          - - isPublic
                                                            - start: 31
                                                              end: 39
                                                    - start: 29
                                                      end: 39
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          Boolean: "True"
                                                    - start: 42
                                                      end: 46
                                              - start: 29
                                                end: 46
                                          - start: 6
                                            end: 46
                                        yield_clause: []
                                      - start: 6
                                        end: 46
                                - start: 0
                                  end: 46
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: o
                                                        - start: 54
                                                          end: 55
                                                      trailing_names:
                                                        - - name
                                                          - start: 56
                                                            end: 60
                                                  - start: 54
                                                    end: 60
                                                alias: ~
                                              - start: 54
                                                end: 60
                                        - start: 54
                                          end: 60
                                      group_by: ~
                                    - start: 47
                                      end: 60
                                  order_by: ~
                              - start: 47
                                end: 60
                  - start: 0
                    end: 60
                next_statements: []
              - start: 0
                end: 60
            end: ~
        - start: 0
          end: 60
      session_close: false
    - start: 0
      end: 60
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause:
                                              - Binary:
                                                  op:
                                                    - Eq
                                                    - start: 32
                                                      end: 33
                                                  left:
                                                    - Property:
                                                        source:
                                                          - Variable: m
                                                          - start: 22
                                                            end: 23
                                                        trailing_names:
                                                          - - runtime
                                                            - start: 24
                                                              end: 31
                                                    - start: 22
                                                      end: 31
                                                  right:
                                                    - Value:
                                                        Literal:
                                                          Numeric:
                                                            Integer:
                                                              - kind: Decimal
                                                                integer: "0"
                                                              - start: 34
                                                                end: 35
                                                    - start: 34
                                                      end: 35
                                              - start: 22
                                                end: 35
                                          - start: 6
                                            end: 35
                                        yield_clause: []
                                      - start: 6
                                        end: 35
                                - start: 0
                                  end: 35
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Property:
                                                      source:
                                                        - Variable: m
                                                        - start: 43
                                                          end: 44
                                                      trailing_names:
                                                        - - title
                                                          - start: 45
                                                            end: 50
                                                  - start: 43
                                                    end: 50
                                                alias: ~
                                              - start: 43
                                                end: 50
                                        - start: 43
                                          end: 50
                                      group_by: ~
                                    - start: 36
                                      end: 50
                                  order_by: ~
                              - start: 36
                                end: 50
                  - start: 0
                    end: 50
                next_statements: []
              - start: 0
                end: 50
            end: ~
        - start: 0
          end: 50
      session_close: false
    - start: 0
      end: 50
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - m
                                                                  - start: 7
                                                                    end: 8
                                                                label:
                                                                  - Label: Movie
                                                                  - start: 9
                                                                    end: 14
                                                                predicate: ~
                                                          - start: 6
                                                            end: 15
                                                    - start: 6
                                                      end: 15
                                                - start: 6
                                                  end: 15
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 15
                                        yield_clause: []
                                      - start: 6
                                        end: 15
                                - start: 0
                                  end: 15
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: m
                                                  - start: 23
                                                    end: 24
                                                alias: ~
                                              - start: 23
                                                end: 24
                                        - start: 23
                                          end: 24
                                      group_by: ~
                                    - start: 16
                                      end: 24
                                  order_by: ~
                              - start: 16
                                end: 24
                  - start: 0
                    end: 24
                next_statements: []
              - start: 0
                end: 24
            end: ~
        - start: 0
          end: 24
      session_close: false
    - start: 0
      end: 24
- Ok:
    - activity:
        - Transaction:
            start: ~
            procedure:
              - at: ~
                binding_variable_defs: []
                statement:
                  - Query:
                      Primary:
                        Ambient:
                          Parts:
                            parts:
                              - - Match:
                                    Simple:
                                      - pattern:
                                          - match_mode: ~
                                            patterns:
                                              - - variable: ~
                                                  prefix: ~
                                                  expr:
                                                    - Concat:
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - a
                                                                  - start: 7
                                                                    end: 8
                                                                label: ~
                                                                predicate: ~
                                                          - start: 6
                                                            end: 9
                                                        - - Quantified:
                                                              path:
                                                                - Pattern:
                                                                    Edge:
                                                                      kind: Right
                                                                      filler:
                                                                        variable: ~
                                                                        label: ~
                                                                        predicate: ~
                                                                - start: 9
                                                                  end: 14
                                                              quantifier:
                                                                - General:
                                                                    lower_bound:
                                                                      - kind: Decimal
                                                                        integer: "1"
                                                                      - start: 15
                                                                        end: 16
                                                                    upper_bound: ~
                                                                - start: 14
                                                                  end: 18
                                                          - start: 9
                                                            end: 18
                                                        - - Pattern:
                                                              Node:
                                                                variable:
                                                                  - b
                                                                  - start: 19
                                                                    end: 20
                                                                label: ~
                                                                predicate: ~
                                                          - start: 18
                                                            end: 21
                                                    - start: 6
                                                      end: 21
                                                - start: 6
                                                  end: 21
                                            keep: ~
                                            where_clause: ~
                                          - start: 6
                                            end: 21
                                        yield_clause: []
                                      - start: 6
                                        end: 21
                                - start: 0
                                  end: 21
                            result:
                              - Return:
                                  statement:
                                    - quantifier: ~
                                      items:
                                        - Items:
                                            - - value:
                                                  - Variable: a
                                                  - start: 29
                                                    end: 30
                                                alias: ~
                                              - start: 29
                                                end: 30
                                            - - value:
                                                  - Variable: b
                                                  - start: 32
                                                    end: 33
                                                alias: ~
                                              - start: 32
                                                end: 33
                                        - start: 29
                                          end: 33
                                      group_by: ~
                                    - start: 22
                                      end: 33
                                  order_by:
                                    - order_by: []
                                      offset: ~
                                      limit:
                                        - count:
                                            Integer:
                                              kind: Decimal
                                              integer: "100"
                                          approximate: false
                                        - start: 34
                                          end: 43
                                    - start: 34
                                      end: 43
                              - start: 22
                                end: 43
                  - start: 0
                    end: 43
                next_statements: []
              - start: 0
                end: 43
            end: ~
        - start: 0
          end: 43
      session_close: false
    - start: 0
      end: 43
- Err:
    Unexpected:
      input: "MATCH (a:Author), (b:Book) WHERE a.birth_year > 1900 AND b.year > 2000 RETURN a.name, b.title LIMIT 10"
      span:
        start: 0
        end: 5
      position:
        - 1
        - 1
